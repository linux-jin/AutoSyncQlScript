[
  {
    "bookSourceComment": "*-每次搜索会随机生成一个美女视频\n*-api来自互联网\n*-登录设置来源\n*-搜索随便搜\n*-可以修改分类来源，具体看源变量",
    "bookSourceGroup": "月月书源",
    "bookSourceName": "🌸全随机",
    "bookSourceType": 2,
    "bookSourceUrl": "这是一个书源哦……",
    "coverDecodeJs": "",
    "customOrder": 0,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "<js>\nvar variable = source.getVariable();\nvar json = JSON.parse(variable);\nif (json.kind=='') {\n  var kind = hot;\n  } else {\n  \tvar kind = json.kind;\n  \t}\nvar sort = `\n[\n  {\n    \"title\": \"💮        分类        💮\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 0,\n      \"layout_flexBasisPercent\": 1\n    }\n  },\n  {\n    \"title\": \"        美女        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4e4d610cdf714d2966000000/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        动漫        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4e4d610cdf714d2966000003/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        风景        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4e4d610cdf714d2966000002/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        游戏        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4e4d610cdf714d2966000007/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        文字        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/5109e04e48d5b9364ae9ac45/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        视觉        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4fb479f75ba1c65561000027/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        情感        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4ef0a35c0569795756000000/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        设计        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4fb47a195ba1c60ca5000222/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        明星        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/5109e05248d5b9368bb559dc/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        物语        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4fb47a465ba1c65561000028/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        男人        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4e4d610cdf714d2966000006/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        机械        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4e4d610cdf714d2966000005/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        城市        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4fb47a305ba1c60ca5000223/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"        动物        \",\n    \"url\": \"http://service.picasso.adesk.com/v1/vertical/category/4e4d610cdf714d2966000001/vertical?limit=30&adult=false&skip={{(page-1)*30}}&order=${kind}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  }\n]`\nsort\n</js>",
    "jsLib": "",
    "lastUpdateTime": "1749181198938",
    "loginCheckJs": "var variable = {\n\t\"type\": \"video\",\n\t\"value\": \"https://v2.api-m.com/api/meinv\",\n\t\"kind\": \"hot\"\n\t}\nvar Variable = JSON.stringify(variable, null, \"\\t\");\nif (source.getVariable()==\"\") {\n    source.setVariable(Variable);\n}\nresult",
    "loginUi": "[\n    {\n        \"name\": \"            ༺ˇ»`ʚ  当 前 模 式  ɞ´«ˇ༻            \",\n        \"type\": \"button\",\n        \"action\": \"get_type()\"\n    },\n    {\n        \"name\": \"切换 视频\",\n        \"type\": \"button\",\n        \"action\": \"type('video')\"\n    },\n    {\n        \"name\": \"切换 黑丝\",\n        \"type\": \"button\",\n        \"action\": \"type('heisi')\"\n    },\n    {\n        \"name\": \"切换 白丝\",\n        \"type\": \"button\",\n        \"action\": \"type('baisi')\"\n    }\n]",
    "loginUrl": "var data = [\n    [\"视频\", \"video\", \"https://v2.api-m.com/api/meinv\"],\n    [\"黑丝\", \"heisi\", \"https://v2.api-m.com/api/heisi?return=302\"],\n    [\"白丝\", \"baisi\", \"https://v2.api-m.com/api/baisi?return=302\"]\n];\nfunction get_type() {\n    try {\n        let varString = source.getVariable();\n        java.log(\"源变量原始数据: \" + varString);\n        if (!varString) {\n            java.toast(\"当前未设置模式\");\n            return;\n        }\n        let currentData = JSON.parse(varString);\n        let modeName = \"未设置\";\n        for (let i = 0; i < data.length; i++) {\n            if (data[i][1] === currentData.type) {\n                modeName = data[i][0];\n                break;\n            }\n        }\n        java.toast(`当前模式: ${modeName}`);\n    } catch (e) {\n        java.toast(\"模式数据解析错误: \" + e.message);\n        java.log(\"解析源变量出错: \" + e);\n    }\n}\nfunction type(mode) {\n    try {\n        java.log(\"切换模式: \" + mode);\n        let validMode = false;\n        let modeName = \"\";\n        let apiUrl = \"\";\n        for (let i = 0; i < data.length; i++) {\n            if (data[i][1] === mode) {\n                validMode = true;\n                modeName = data[i][0];\n                apiUrl = data[i][2];\n                break;\n            }\n        }\n        if (validMode) {\n            var variable = {\n                \"type\": mode,\n                \"value\": apiUrl,\n                \"kind\": \"hot\"\n            };\n            var jsonStr = JSON.stringify(variable, null, \"\\t\");\n            source.setVariable(jsonStr);\n            java.toast(`✅ 已切换到: ${modeName}模式`);\n            java.log(\"设置源变量: \" + jsonStr);\n        } else {\n            java.toast(\"❌ 无效模式\");\n        }\n    } catch (e) {\n        java.toast(\"切换模式出错: \" + e.message);\n        java.log(\"切换模式出错: \" + e);\n    }\n}\nfunction init() {\n    try {\n        let varString = source.getVariable();\n        if (!varString) {\n            var variable = {\n                \"type\": \"video\",\n                \"value\": \"https://v2.api-m.com/api/meinv\",\n                \"kind\": \"hot\"\n            };\n            var jsonStr = JSON.stringify(variable, null, \"\\t\");\n            source.setVariable(jsonStr);\n            java.log(\"初始化源变量: \" + jsonStr);\n            java.toast(\"已初始化默认视频模式\");\n        } else {\n            java.log(\"已有源变量: \" + varString);\n        }\n    } catch (e) {\n        java.log(\"初始化出错: \" + e);\n    }\n}\ninit();",
    "respondTime": 180000,
    "ruleBookInfo": {
      "coverUrl": "@js:\nvar url = baseUrl;\nurl",
      "tocUrl": "@js:\nvar url = baseUrl;\nurl"
    },
    "ruleContent": {
      "content": "<js>\nvar variable = source.getVariable();\nvar json = JSON.parse(variable);\nvar type = json.type;\nvar title = \"video\";\nvar url = baseUrl;\nif (/^http:\\/\\/img5\\.adesk\\.com\\/.+/.test(url)) {\n\tcontent = `<img src=\"${url}\">`\n\t} else if (title==type) {\n java.startBrowser(`data:text/html;charset=utf-8,<html><title>${title}</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, orientation:portrait\"><meta name=\"referrer\" content=\"no-referrer\"><style>body {background-color: black;} video {position: fixed; top: 0; left: 0; width: 100%; height: 100%;}</style><body><video controls><source src=\"${url}\" type=\"video/mp4\"></video></body></html>`, chapter.title)\n  java.toast('正在加载视频\\n视频加载较慢，请耐心等待')\n  content = `如果视频未加载，点击右上角刷新播放视频\\n当前视频直链为：\\n${url}`\n } else {\n\t\tcontent = `<img src=\"${url}\">`\n\t\t}\n</js>",
      "nextContentUrl": ""
    },
    "ruleExplore": {
      "bookList": "$.res.vertical[*]",
      "bookUrl": "$.wp",
      "coverUrl": "$.wp",
      "kind": "$.tag",
      "name": "$.tag\n@js:\nif (result=='') {\n\tname = \"图片\";\n\t}"
    },
    "ruleSearch": {
      "bookList": "@js:\nvar variable = source.getVariable();\n//java.log(variable);\nvar json = JSON.parse(variable);\nvar title = json.type;\nvar video = \"video\";\nvar heisi = \"heisi\";\nvar baisi = \"baisi\";\nif (title==video) {\n\tvar name = \"视频\";\n var data = JSON.parse(result);\n var url = data.data;\n\t} else if (title==heisi) {\n\t\tvar name = \"黑丝\";\n\t\tvar url = baseUrl;\n\t\t} else if (title==baisi) {\n\t\t\tvar name = \"白丝\";\n\t\t\tvar url = baseUrl;\n\t\t\t}\nvar list = [];\n     list.push({\n     \taction: url,\n     \tname: name\n     \t})\nlist",
      "bookUrl": "action",
      "checkKeyWord": ".....",
      "coverUrl": "action",
      "name": "name"
    },
    "ruleToc": {
      "chapterList": "@js:\nvar variable = source.getVariable();\nvar json = JSON.parse(variable);\nvar title = json.type;\nvar video = \"video\";\nvar heisi = \"heisi\";\nvar baisi = \"baisi\";\nvar url = baseUrl;\nif (/^http:\\/\\/img5\\.adesk\\.com\\/.+/.test(url)) {\n    var name = \"分类\";\n} else if (title==video) {\n\t var name = \"视频\";\n\t} else if (title==heisi) {\n\t\tvar name = \"黑丝\";\n\t} else if (title==baisi) {\n\t\tvar name = \"白丝\";\n\t}\nvar list = [];\n     list.push({\n     \taction: url,\n     \tname: name\n     \t})\nlist",
      "chapterName": "name",
      "chapterUrl": "url",
      "formatJs": ""
    },
    "searchUrl": "@js:\nvar variable = source.getVariable();\nvar json = JSON.parse(variable);\nvar search = json.value;\nsearch",
    "variableComment": "修改下面的kind可以修改分类来源\nhot：热门\nnew：最新\n请勿修改其他值",
    "weight": 0
  }
]