[
  {
    "bookSourceComment": "//2025.1.3 ◎夜泽川◎\n//同站一堆",
    "bookSourceGroup": "网络,自制",
    "bookSourceName": "番茄[伪]",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.fanqxsw.com",
    "customOrder": 160,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "@js: var result = []\nvar push = (title, url, size) => result.push({\n  title: title,\n  url: url,\n  style: {\n    layout_flexGrow: 1,\n    layout_flexBasisPercent: size\n  }\n})\npush(\"全部分类\",null,1);\ntg = java.ajax(source.key+\"/list-0/\");\ntag = org.jsoup.Jsoup.parse(tg).select('.condBox dl:nth-of-type(2) a[href^=/list]');\ntag.forEach(fl => {\n  nam = fl.text()\n  ul = String(fl.attr('href')).replace(/\\/$/,\"-{{page}}/\");\npush(nam,ul,0.25);\n})\nJSON.stringify(result);",
    "header": "",
    "lastUpdateTime": "1743232427941",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "@get:{a}",
      "coverUrl": "@get:{i}",
      "init": "@put:{n:\"[property$=book_name]@content\",\na:\"[property$=author]@content\",\nt:\"[property~=category|status]@content\",\nl:\"[property$=latest_chapter_name]@content\",\ni:\"[property$=image]@content\",\no:\"[property$=description]@content\",\ng:\"[property$=update_time]@content\",\nz:\"class.t_c.2@text##字数：\",\nm:\".btnGreen2@href\"\n}",
      "intro": "@get:{o}",
      "kind": "@get:{t}",
      "lastChapter": "@get:{l}◎@get:{g}",
      "name": "@get:{n}",
      "tocUrl": "@js: \nso = java.ajax(baseUrl.replace(/book/,\"chapter\"));\njava.setContent(so);\nvar id = baseUrl.match(/book\\/(.*?)\\.html/)[1];\njava.put(\"id\",id);\nvar pages = java.getStringList(\"option@value\");\njava.put(\"page\",pages.length);\nresult = source.key + \"/index.php?action=loadChapterPage\" + \",\" + JSON.stringify({\n  \"body\": `id=${id}&page=1`,\n  \"method\": \"POST\"\n});",
      "wordCount": "@get:{z}"
    },
    "ruleContent": {
      "content": "#content@html||.content@html",
      "imageStyle": "",
      "nextContentUrl": "[class~=pageDown|btnGray]@href",
      "replaceRegex": "##.*{{source.key}}.*|\\n+.*章节错误,点此举报.*\\n+|\\(https?.*\\/book\\/.*\\)|.*首发域名.*"
    },
    "ruleExplore": {
      "author": ".time@span.0@text",
      "bookList": ".list > ul > li",
      "bookUrl": "a.0@href",
      "coverUrl": "img@src",
      "intro": ".intro@text",
      "kind": ".about@span@text##\\[|\\]",
      "lastChapter": ".chapter@text",
      "name": ".name a@text"
    },
    "ruleSearch": {
      "author": "a[href~=author][0]@text",
      "bookList": ".list > ul > li",
      "bookUrl": "a.0@href",
      "coverUrl": "img@src",
      "intro": ".intro@text",
      "kind": ".info a[href~=list]@text",
      "lastChapter": ".infoM2@a.-1@text",
      "name": ".name@text"
    },
    "ruleToc": {
      "chapterList": "$.data",
      "chapterName": "$.chaptername",
      "chapterUrl": "$.chapterurl",
      "nextTocUrl": "@js: result = []\nid = java.get(\"id\");\npages = java.get(\"page\");\nfor (let i = 2 ; i <= pages ; i++) {\noption = source.key + \"/index.php?action=loadChapterPage\" + \",\" + JSON.stringify({\n  \"body\": `id=${id}&page=${i}`,\n  \"method\": \"POST\"\n});\nresult.push(option);\n}\nresult;"
    },
    "searchUrl": "@js: \nvar url = java.ajax(source.key).match(/window\\.location\\.href=\\'([^']+)/)[1];\njava.log(url);\ncookie.removeCookie(url);\nvar kku = url.replace(/\\/\\?.*$/,\"\");\n//java.log(kku);\nvar ckk = java.get(url,{});\nvar ck = cookie.getCookie(url);\njava.log(ck);\nvar result = kku + \"/keywords-{{key}}-{{page}}.html\" + \",\" + JSON.stringify({\n\t\"headers\":{\"Cookie\":ck}\n});\nresult;",
    "weight": 0
  }
]