[
  {
    "bookSourceComment": "筛选 =\"GL，完结\";\n\n//❗️本源需要登录\n//❗️在网站新增【收藏夹】请点击【刷新收藏列表】后【刷新】发现\n//❗️注意除了更改值以外不要做其他更改\n//❗️请在 \" \" 里写你要筛选的内容，为空时就是不做筛选，每个用中文逗号分隔\n//❗️每次更改完都要【刷新】发现\n//例如：完结，GL，最后回复，悬疑\n\n/**\n * 可选的筛选：\n 1.篇幅：\n 短篇、中篇、长篇、大长篇、大纲\n \n 2. 进度：\n 连载、完结、暂停\n \n 3. 性向：\n BG、GB、BL、GL、混合性向、无CP、其他性向、性向未知\n \n 4. 推荐：\n 风格故事、人气剧情、长篇故事、创意故事、编推金麦穗\n \n 5. 排序：\n 最后回复、最新更新、总字数、均衡积分、均字数积分、最新创建、最多收藏、随机乱序\n \n 6、标签\n */",
    "bookSourceGroup": "③📖  论坛",
    "bookSourceName": "📖废文网",
    "bookSourceType": 0,
    "bookSourceUrl": "https://xn--pxtr7m.com",
    "customOrder": 74,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "@js:\neval(String(source.bookSourceComment))\nvar fenlei = 筛选; // 可能为空或顺序不同\n\nvar length = { \"短篇\": \"867\", \"中篇\": \"868\", \"长篇\": \"869\", \"大长篇\": \"1665\", \"大纲\": \"870\" };\nvar progress = { \"连载\": \"871\", \"完结\": \"872\", \"暂停\": \"873\" };\nvar orientation = { \"BG\": \"876\", \"GB\": \"877\", \"BL\": \"874\", \"GL\": \"875\", \"混合性向\": \"878\", \"无CP\": \"879\", \"其他性向\": \"880\", \"性向未知\": \"976\" };\nvar recommendation = { \"风格故事\": \"1831\", \"人气剧情\": \"1832\", \"长篇故事\": \"1833\", \"创意故事\": \"1834\", \"编推金麦穗\": \"1835\" };\nvar sorting = { \"最后回复\": \"default\", \"最新更新\": \"last_ranked_at\", \"总字数\": \"total_char\", \"均衡积分\": \"jifen\", \"均字数积分\": \"weighted_jifen\", \"最新创建\": \"latest_created\", \"最多收藏\": \"collection_count\", \"随机乱序\": \"random\" };\nvar originality = { \"原创小说\": \"1\", \"同人小说\": \"2\" };\n\nvar other_tags={\"正剧\":\"27\",\"悲剧\":\"908\",\"喜剧\":\"909\",\"古代\":\"562\",\"民国\":\"639\",\"现代\":\"563\",\"未来\":\"71\",\"HE\":\"29\",\"BE\":\"315\",\"OE\":\"560\",\"小甜饼\":\"24\",\"轻松\":\"28\",\"治愈\":\"565\",\"H/C\":\"536\",\"爽文\":\"47\",\"狗血\":\"4\",\"致郁\":\"564\",\"虐文\":\"576\",\"惊悚\":\"566\",\"悬疑\":\"85\",\"雷文\":\"76\",\"谐趣\":\"1151\",\"文艺\":\"936\",\"意识流\":\"981\",\"浪漫主义\":\"983\",\"现实主义\":\"982\",\"魔幻现实\":\"1630\",\"黑色幽默\":\"925\",\"暗黑\":\"37\",\"第一人称\":\"932\",\"第二人称\":\"933\",\"第三人称\":\"934\",\"多重视角\":\"931\",\"女主视角\":\"928\",\"男主视角\":\"927\",\"主受视角\":\"469\",\"主攻视角\":\"468\",\"仙侠\":\"77\",\"反乌托邦\":\"1076\",\"女尊\":\"1075\",\"末世\":\"1074\",\"原始社会\":\"1062\",\"玄幻\":\"644\",\"灵异\":\"643\",\"科幻\":\"642\",\"奇幻\":\"641\",\"神话\":\"569\",\"赛博朋克\":\"21\",\"魔法世界\":\"63\",\"武侠\":\"58\",\"神怪志异\":\"42\",\"童话\":\"36\",\"星际\":\"35\",\"架空世界\":\"33\",\"幻想空间\":\"26\",\"蒸汽朋克\":\"22\",\"哨兵向导\":\"5\",\"动物世界\":\"66\",\"人鱼\":\"79\",\"兽人\":\"80\",\"拟人\":\"478\",\"血族\":\"984\",\"日系\":\"56\",\"欧美\":\"230\",\"韩流\":\"231\",\"东南亚\":\"232\",\"西亚\":\"233\",\"澳洲\":\"234\",\"非洲\":\"235\",\"拉美\":\"236\",\"西方\":\"640\",\"极地\":\"722\",\"网游\":\"62\",\"直播\":\"1184\",\"室友\":\"1063\",\"战争\":\"1060\",\"宫斗\":\"721\",\"刑侦\":\"597\",\"竞技体育\":\"161\",\"电竞\":\"160\",\"宅斗\":\"84\",\"娱乐圈\":\"6\",\"宫廷侯爵\":\"60\",\"田园乡村\":\"59\",\"商战\":\"55\",\"校园\":\"54\",\"职业文\":\"49\",\"网配\":\"34\",\"灵魂伴侣\":\"2250\",\"传奇\":\"67\",\"励志\":\"31\",\"日常\":\"53\",\"暧昧\":\"926\",\"暗恋\":\"935\",\"养成\":\"1186\",\"青梅竹马\":\"44\",\"宠物奇缘\":\"46\",\"乔装改扮\":\"977\",\"扮猪吃虎\":\"577\",\"前世今生\":\"48\",\"天作之合\":\"30\",\"相爱相杀\":\"978\",\"因缘邂逅\":\"43\",\"阴差阳错\":\"32\",\"破镜重圆\":\"2\",\"PTSD\":\"1059\",\"先婚后爱\":\"769\",\"宗教\":\"1150\",\"异能\":\"2255\",\"克系\":\"2249\",\"升级流\":\"2248\",\"机甲\":\"2247\",\"规则怪谈\":\"2236\",\"推理\":\"1760\",\"民俗\":\"1585\",\"无限流\":\"1310\",\"快穿\":\"1309\",\"论坛体\":\"1185\",\"性转\":\"20\",\"公路文\":\"1064\",\"灵魂转换\":\"1061\",\"权谋\":\"980\",\"单元剧\":\"770\",\"基建\":\"61\",\"美食\":\"45\",\"重生\":\"41\",\"穿越\":\"40\",\"人工智能\":\"39\",\"系统\":\"38\",\"忠犬\":\"81\",\"女王\":\"82\",\"病娇\":\"906\",\"自恋\":\"979\",\"强强\":\"1\",\"美强\":\"23\",\"强弱\":\"25\",\"弱强\":\"73\",\"弱弱\":\"567\",\"年上\":\"570\",\"年下\":\"571\",\"师生\":\"572\",\"上下级\":\"573\",\"下克上\":\"772\",\"水仙\":\"1666\",\"1v1\":\"3\",\"互攻\":\"70\",\"受受\":\"72\",\"直掰弯\":\"78\",\"受转攻\":\"574\",\"攻转受\":\"575\",\"无差\":\"719\",\"受宠攻\":\"1072\",\"攻宠受\":\"1073\",\"全年龄\":\"720\",\"清水\":\"86\",\"布袋戏\":\"88\",\"歌剧\":\"90\",\"综漫\":\"479\",\"Fate系列\":\"549\",\"原作向\":\"715\",\"paro\":\"716\",\"AU\":\"717\",\"全员向\":\"718\",\"高达\":\"1325\",\"授权翻译\":\"467\",\"授权转载\":\"561\",\"法语\":\"1077\",\"德语\":\"1078\",\"日语\":\"1079\",\"西语\":\"1080\",\"英语\":\"1081\",\"粤语\":\"1631\",\"第五期征集\":\"1668\",\"第六期征集\":\"1836\",\"第七期征集\":\"1988\",\"第八期征集\":\"2109\",\"第九期征集\":\"2286\"}\n\n// 解析 fenlei 变量\nvar fenleiItems = fenlei ? fenlei.split(\"，\").map(function (item) { return item.trim(); }) : [];\n\n// 获取 progress, length, orientation, recommendation, sorting, other_tags 的值\nvar values = {};\nvar otherTagValues = [];\nfor (var i = 0; i < fenleiItems.length; i++) {\n    var item = fenleiItems[i];\n    if (progress[item]) values.progress = progress[item];\n    else if (length[item]) values.length = length[item];\n    else if (orientation[item]) values.orientation = orientation[item];\n    else if (recommendation[item]) values.recommendation = recommendation[item];\n    else if (sorting[item]) values.sorting = sorting[item];\n    else if (other_tags[item]) otherTagValues.push(other_tags[item]); // 支持 other_tags\n}\n\n// 生成 withTag 部分\nvar withTag = [values.progress, values.length, values.orientation, values.recommendation].concat(otherTagValues).filter(Boolean).join(\"-\");\n\n// 一行的个数\nvar defaultNumPerRow = 0;\nvar flexBasisMap = { 1: 1, 2: 0.4, 3: 0.25, 4: 0.2, 5: 0.15, 7: 0.1, 10: 0.05 };\nvar flexBasis = defaultNumPerRow === 0 ? undefined : flexBasisMap[defaultNumPerRow] || 1;\n\n// 生成 style 对象\nvar style = { layout_flexGrow: 1 };\nif (flexBasis !== undefined) {\n    style.layout_flexBasisPercent = flexBasis;\n}\n\n// 生成结果数组\nvar result = [{\"title\":\"我要签到\",\"url\":\"/qiandao\",\"style\":{\"layout_flexGrow\":1}}];\nif (fenlei) {\n    result.push({\n        title: \"当前筛选为【\" + fenlei + \"】\",\n        url: \"\",\n        style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n    });\n}\n\nfor (var key in originality) {\n    if (originality.hasOwnProperty(key)) {\n        var inChannel = originality[key];\n        var url = \"/books?ordered=\" + (values.sorting || \"default\") + \"&withBianyuan=include_bianyuan&inChannel=\" + inChannel + \"&page={{page}}&withBianyuan=include_bianyuan\";\n        if (withTag) {\n            url += \"&withTag=\" + withTag; // 添加 withTag 部分\n        }\n        result.push({\n            title: key,\n            url: url,\n            style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n        });\n        for (var tagKey in other_tags) {\n            if (other_tags.hasOwnProperty(tagKey)) {\n                var tagValue = other_tags[tagKey];\n                var finalWithTag = tagValue + (withTag ? \"-\" + withTag : \"\");\n                result.push({\n                    title: tagKey,\n                    url: \"/books?withTag=\" + finalWithTag + \"&page={{page}}&ordered=\" + (values.sorting || \"default\") + \"&withBianyuan=include_bianyuan&inChannel=\" + inChannel,\n                    style: style // 使用动态生成的 style 对象\n                });\n            }\n        }\n    }\n}\n\n// 收藏功能\n收藏 = String(java.ajax(\"https://xn--pxtr7m.com\")).match(/<a href=\"([^\"]+)\">收藏/);\nif(收藏){\n\t收藏url = 收藏[1];\nlet sss=source.getVariable()||\"\";\n收藏页 = sss==\"\"? String(java.ajax(收藏url)):sss;\nJ = org.jsoup.Jsoup.parse(收藏页).select(\".nav.nav-tabs\");\nsource.setVariable(J)\nJ.select(\"li a\").forEach(x=>{\n\tif(x.text()!=\"\"&&x.text()!=\"全部标记已读\"){\n\t      result.unshift({\"title\":x.text(),\"url\":x.attr(\"href\")+\"&page={{page}}\",\"style\":{\"layout_flexGrow\":1}})\n\t }\n\t});\n\tresult.unshift({\"title\":\"刷新收藏列表\",\"url\":`{{if(page==1) {source.setVariable('');java.longToast(\"请❗️【刷新】❗️发现\")};'http://127.0.0.1/'+page}}`,\"style\":{\"layout_flexGrow\":1,layout_flexBasisPercent: 1}})\n}\n\nJSON.stringify(result);\n",
    "lastUpdateTime": "1744033707680",
    "loginCheckJs": "if(!cache.getFile(\"feiwentime\")){\n\tJ = String(java.getStrResponse().body());\n\tJ = org.jsoup.Jsoup.parse(J);\n\tif(String(J.select(\":contains(text)\").text())==\"我要签到\"){\n\t    cache.putFile(\"feiwentime\", true , 23200);\n\t    url = \"https://xn--pxtr7m.com/qiandao\";\n\t    /连续签到/.test(java.ajax(url))?java.toast(\"废文签到成功\"):java.toast(\"废文未登录，签到失败\");\n\t}else{\n\t\t/login/i.test(result)?java.toast(\"废文未登录，签到失败\"):\"\"\n\t\t}\n\t}\nresult;",
    "loginUi": "",
    "loginUrl": "https://xn--pxtr7m.com",
    "respondTime": 182188,
    "ruleBookInfo": {
      "coverUrl": "",
      "init": "",
      "intro": "class.alert-warning@html&&class.h5.0@html&&class.grayout smaller-20.0@html&&class.main-text.0@html&&class.main-text text-left no-selection@html##发表于##⌚️发表于",
      "kind": "class.article-body@class.h5@tag.a@text&&class.bianyuan-tag@text##^限##🍖限",
      "lastChapter": "class.article-body@tag.a.-1@text##最新章节|《|》",
      "name": "",
      "wordCount": "class.smaller-20.2@text##(.*?)\\/(.*)##$1"
    },
    "ruleContent": {
      "content": "<js>\nif(/posts/.test(baseUrl)){\nresult = java.getString(\"@class.main-text.0@span@p@html\");\na=java.getString('@@class.warning-tag.0@html');\nb=java.getString('@css:[class=\"text-left grayout\"]@html');\nc=java.getString('//strong[@class=\"h5\"]/text()');\nif((!a.match(/<h6/))&&(a!='')&&(!a.match(/>我要签到<\\/a/))){\na='作者有话说：\\n'+a+'\\n————————————\\n'\n}else{a=''}\nif(b!=''){\nb='作者有话说：\\n'+b\n}\nresult='【'+c+'】\\n'+a+result+b\n}else{\n\tresult = java.getString(\"@css:.col-xs-12 p,.article-title>.h5,.vertical-middle,.majia,.grayout.smaller-30,.grayout.smaller-20,.main-text span[id^=full],.post-reply,*[id^=postcomment]@html\");\n\tresult=String(result)\n\t         .replace(/<div class=\"h5\">\\n*([^\\n]+)\\n*<\\/div>/,'📖 $1 📖')\n\t         .replace(/<span class=\"(?:majia|vertical-middle)\">([^<]+)<\\/span>/g,'👤$1')\n\t         .replace(/<(?:div|span) class=\"grayout smaller-[32]0\">\\n*([^\\n]+)\\n*<\\/(?:div|span)>/g,'🕘$1')\n\t         .replace(/<div class=\"(?:post-reply grayout|smaller-20)\"(?: id=\"postcomment\\d+\")*>\\n*([^\\n*]+)\\n*<\\/div>/g,'【$1】')\n\t         \n\t}\n</js>\n##👤##<br>&lrm;<br>👤",
      "imageStyle": "",
      "nextContentUrl": "",
      "replaceRegex": "##\\.*（本帖非边限.*?引入“边限”讨论。）|🕘只看该用户|>>本层全部回帖|>>所有相关讨论|\\n(?=🕘)|注：点击是延时统计.*",
      "title": ""
    },
    "ruleExplore": {
      "author": "class.col-xs-12.0@tag.a.-1@text||class.pull-right.0@text",
      "bookList": "class.flash-message||class.panel-body@article",
      "bookUrl": "tag.a.0@href",
      "intro": "class.smaller-5.1@text",
      "kind": "class.badge@text&&class.pull-right!0@a@text##^限##🍖限",
      "lastChapter": "class.smaller-20.0@text",
      "name": "tag.a.0@text||text",
      "wordCount": ""
    },
    "ruleSearch": {
      "author": "class.pull-right@text",
      "bookList": "class.panel-body@article",
      "bookUrl": "tag.a.0@href",
      "checkKeyWord": "",
      "kind": "class.badge@text",
      "name": "tag.a.0@text"
    },
    "ruleToc": {
      "chapterList": "<js>\nlist=[];\nif(/profile/.test(baseUrl)){\n\tresult = java.getElements(\"@class.table@tbody@tr\").toArray();\n\tfor(i in result){\n\t\tjava.setContent(result[i]);\n\t\tindex=Number(i)+1;\txian=java.getString(\"@@tag.span@text||tag.span@class##.*限.*|.*sign.*##•🍗\")\n\t\ttext=java.getString(\"@@tag.a.0@text\");\n\t\thref=java.getString(\"@@tag.a.0@href\");\n\t\tword=java.getString(\"@@tag.th.2@text\");\n\t\ttime=java.getString(\"@@tag.th.6@text\");\n\t\tother=java.getString(\"@@tag.a.1@text\")\n\t\t\n\tlist.push({\n\t\t  text:index+\"  | \"+text+xian,\n\t\t  href:href,\n\t\t  intro:word+\"字 \"+time+\"  \"+other\n\t\t})\n\t}\n}else{\nallpage =\tString(java.getString(\"@class.pagination@li.-2@a@href\")).match(/page=(\\d+)/)[1];\n\tfor(i=1;i<=allpage;i++){\n\t\tlist.push({\n\t\t\ttext: \"第\"+i+\"页\",\n\t\t\thref: baseUrl+\"?page=\"+i\n\t\t\t})\t\n\t\t}\n\t}\nlist\n</js>",
      "chapterName": "text",
      "chapterUrl": "href",
      "isVip": "",
      "updateTime": "intro"
    },
    "searchUrl": "https://xn--pxtr7m.com/search_thread?search={{key}}",
    "weight": 0
  }
]