[
  {
    "bookSourceComment": "",
    "bookSourceGroup": "🙈🎨",
    "bookSourceName": "🌈绅士漫画",
    "bookSourceType": 2,
    "bookSourceUrl": "洛娅橙-绅士漫画",
    "concurrentRate": "5/2000",
    "customOrder": -93826,
    "enabled": true,
    "enabledCookieJar": false,
    "enabledExplore": true,
    "exploreUrl": "@js:\nlet banben=\"1.0.1\";\nlet rere = Object.entries(flfl);\nrere.sort((a,b)=>{return a[1][1]-b[1][1]})\nlet obj={};\nfor (char of rere) {\n\tobj[char[1][0]] = {\"url\": `\\`data:;base64,\\${java.base64Encode('■'+${char[0]}+'🀄'+page)},{'type':''}\\``};\n\t}\n\n\nvar sort = [];\nph = (title, url, size, wrap, cc) => sort.push({\n    \"title\": title,\n    \"url\": '{{'+url+'}}',\n    \"style\": {\n      layout_flexGrow: size || 1,\n      layout_flexBasisPercent: cc || 0.25,\n      layout_wrapBefore: wrap ? wrap : false\n     }\n  });\n\nfor (x in obj) {\n\tph(x, obj[x].url, obj[x].fg, obj[x].wb, obj[x].fb);\n}\nJSON.stringify(sort);",
    "header": "@js:\n(()=>{\n\tlet headers = gethd();\n\treturn JSON.stringify(headers);\n})();",
    "jsLib": "flfl={\n\t\t1: [\"同人/汉化\",0],\n\t\t12: [\"同人/日语\",1],\n\t\t16: [\"同人/英语\",2],\n\t\t9: [\"单行/汉化\",3],\n\t\t13: [\"单行/日语\",4],\n\t\t17: [\"单行/英语\",5],\n\t\t10: [\"短篇/汉化\",6],\n\t\t14: [\"短篇/日语\",7],\n\t\t18: [\"短篇/英语\",8],\n\t\t2: [\"CG\",9],\n\t\t3: [\"Cos\",10],\n\t\t23: [\"3D\",12],\n\t\t37: [\"AI\",11],\n\t\t20: [\"韩漫/汉化\",13],\n\t\t21: [\"韩漫/生肉\",14]\n\t\t};\n\nu_a = 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 Edg/132.0.2957.129';\ns_c_ua = `'Microsoft Edge';v='131', 'Chromium';v='131', 'Not_A Brand';v='24'`;\ns_c_ua_m = '?1';\ns_c_ua_p =  `'Android'`;\ncache_c = 'max-age=0';\na_l = 'zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7';\n\nfunction gets(x, r) {\nlet re = r==undefined ? this.java.getString(x) : this.java.getString(x,r);\nreturn String(re);}\nfunction getsl(x, r) {\nreturn r == undefined ? this.java.getStringList(x) : this.java.getStringList(x,r)}\n\nfunction surl() {\n\tlet url=String((this.source.getLoginInfoMap()||{})['地址']);\n\tif (/^http/.test(url)) {url=url.replace(/\\/*$/,'')}\n\telse url='https://www.wn02.uk';\n\treturn url;}\n\nfunction gethd(url,ck='') {\n\tlet u_a=this.java.getWebViewUA();\n\tlet headers = {\n\t\t  \t'User-Agent': u_a,\n\t\t  'sec-ch-ua': s_c_ua,\n    \t 'sec-ch-ua-mobile': s_c_ua_m,\n     \t'sec-ch-ua-platform': s_c_ua_p,\n     \t'cache-control': cache_c,\n     \t'accept-language': a_l\n    \t }\nif (ck!='') headers['cookie']=ck;\nreturn url + ',' + JSON.stringify({'headers':headers});\n};\n\nfunction gengxin(){\nconst {java, source} = this;\n\tlet url0='https://gitee.com/lyc486/yuedu2/commits/main/漫画/绅士漫画/shenshi.json?browser_history=0&page=1&per=3';\n\tlet rr0=java.get(url0,{'User-Agent': 'Mozilla/5.0 (Linux; Android 14)','X-Requested-With': 'XMLHttpRequest'}).body();\n\tlet \tgxlrr = com.jayway.jsonpath.JsonPath.read(rr0, '$.list[0:3].title');\n\tlet [gxlr, gxlr2, gxlr3] = gxlrr;\n\tlet banben =   String(source.exploreUrl).match(/let banben=\"([\\d\\.]+)\"/)[1];\n\tgxlr=String(gxlr).split(/^([^\\-]+)-/);\n\tgxlr[0]=='' ? '' : gxlr=['','0',gxlr[0]];\n\tlet gxts;\n\tif (gxlr[1]>banben){gxts=['更新','0,140,186'];}\n\telse {gxts= ['导入','76,175,80'];};\n\tlet htm = `data:text/html;charset=utf-8,<html>\n<head>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<style>\ntable {\n\ttext-align: center;\n\tmargin: 0 auto;\n\t}\n.ann {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 50vh;\n\t}\nbutton {\n\tbackground-color: rgb(${gxts[1]});\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 4px;\n\theight: 6vh;\n\twidth: 30vw;\n\toverflow: hidden;\n\t}\nbutton span {\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  transition: 0.4s;\n}\nbutton span:after {\n  content: '>';\n  position: absolute;\n  opacity: 0;\n  top: 0;\n  right: 30px;\n  transition: 0.2s;\n}\nbutton:active span {\n  padding-right: 20px;\n}\nbutton:active span:after {\n  opacity: 1;\n  right: -40px;\n}\n</style>\n</head>\n<body>\n<table border=\"1\" cellspacing=\"0\">\n<th colspan=\"2\">最新日志：${gxlr[2]}</th>\n<tr>\n<td>仓库版本：${gxlr[1]}</td>\n<td>本地版本：${banben}</td>\n</tr>\n<tr>\n<td colspan=\"2\" style=\"text-align: left;\">往期日志：${gxlr2}<br>　　　　　${gxlr3}</td>\n</tr>\n</table>\n<div class=\"ann\">\n<a href=\"legado://import/importonline?src=https://github.com/Luoyacheng/yuedu/raw/main/漫画/绅士漫画/shenshi.json\">\n<button><span>${gxts[0]}</span></button>\n</a>\n</div>\n<a href=\"legado://import/importonline?src=https://cdn.jsdelivr.net/gh/Luoyacheng/yuedu@main/漫画/绅士漫画/shenshi.json\" style=\"font-size: 10px;\">备用链接</a>\n</body>\n</html>`;\nif(typeof this.book=='undefined'||gxts[0]=='更新') java.startBrowser(htm,'绅士更新');\r\n}\nfunction fankui(){\tthis.java.startBrowser('https://github.com/Luoyacheng/yuedu/issues','绅士反馈');\n}",
    "lastUpdateTime": "1740318731836",
    "loginUi": "[\n    {\n        name: \"地址\",\n        type: \"text\"\n    },\n    \t{\n        name: \"发布页\",\n        type: \"button\",\n        action: \"fabuye()\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": 0.3\n        }\n    },\n    \t{\n        name: \"测速\",\n        type: \"button\",\n        action: \"cesu()\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": 0.3\n        }\n    },\n    \t{\n        name: \"更新\",\n        type: \"button\",\n        action: \"gengxin()\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": 0.25\n        }\n    }\n]",
    "loginUrl": "function login() {}\n\nfunction fabuye() {\n\tlet webr = java.startBrowserAwait('https://wnacg.date/','发布页',false).body();\n\tlet rr = org.jsoup.Jsoup.parse(webr);\n\trr = rr.select('.content-top li:gt(1):lt(4) a');\n\tlet re=[];\nfor (char of rr) {re.push(char.attr('href'));}\nsource.put('yurl',re);\ncesu();\n}\n\nfunction cesu() {\n\t['　　　','·　　','··　','···'].forEach((_,i) => {java.toast('\\n\\n测试中'+_+'\\n');Packages.java.lang.Thread.sleep((3-i)*100);});\nlet url = source.get('yurl').split(',');\nlet tm=[], mit=99, miu='';\n\ttry {\n\tfor (char of url) {\n  let startTime=new Date().getTime();\n\tjava.head(char,{\t'User-Agent': u_a});\n\tlet endTime=new Date().getTime();\n\tlet speed = (endTime - startTime) / 1000;\n\tspeed = speed.toFixed(2);\n\tif (mit>speed) {mit=speed; miu=char;}\n\ttm.push(speed);\n\t}\n\tjava.longToast('\\n'+url[0]+'：'+tm[0]+'秒\\n'+url[1]+'：'+tm[1]+'秒');\n\t} catch(err) {java.longToast(err);}\n\tlet Info=source.getLoginInfoMap()||{};\n\tInfo['地址'] = miu;\nsource.putLoginInfo(JSON.stringify(Info));\n}",
    "respondTime": 180000,
    "ruleBookInfo": {
      "coverUrl": "fm",
      "init": "<js>\nlet hj=java.get('sshj');\nif (hj=='') {\nlet tags=`#{{@@.addtags>a:not(:last-of-type)@text##\\n## #}}`\n;\nlet jj=tags+`\\n{{@@.addtags~p@textNodes##簡介：}}`;\nresult={\n\tjj:jj};\n\n} else {\n\tlet st=gets('.info@text');\n\tlet sj=st.match(/创建于([\\d\\ \\-\\:]+)/)[1];\n\tlet fm=gets('#classify_container li img.0@src');\n\tresult={\n\ttags:sj,\n\tfm:fm};\n\n}\n</js>",
      "intro": "jj",
      "kind": "tags",
      "tocUrl": ""
    },
    "ruleContent": {
      "content": "<js>\nlet rr=result.match(/[^\"\\n]+\\.(?:webp|jpg|png)/g);\nfor (let i=0;i<rr.length;i++) {\n\trr[i]=`<img src=\"${rr[i]}\">`\n\t}\nrr.toString()\n</js>",
      "nextContentUrl": "",
      "title": ""
    },
    "ruleExplore": {
      "bookList": ""
    },
    "ruleSearch": {
      "author": "<js>\njava.get('anm');\n</js>",
      "bookList": "<js>\nlet [key,page] = java.hexDecodeToString(result).split('🀄');\nlet url=surl();\n\nif (key.startsWith('@')) {\n\tkey=key.slice(1);\n\tjava.put('sshj',key);\n\turl += '/q/?q='+key+'&m=&f=_all&s=create_time_DESC&p=1';}\nelse if (/^[#＃]/.test(key)) {\n\tlet webua=java.getWebViewUA();\n\tkey=key.slice(1);\n\turl += `/albums-index-page-${page}-tag-${key}.html,{headers:{User-Agent:\"${webua}\"}}`;}\nelse if (/^■\\d/.test(key)) {\n\tlet webua=java.getWebViewUA();\n\tkey=key.slice(1);\n\turl += `/albums-index-page-${page}-cate-${key}.html,{headers:{User-Agent:\"${webua}\"}}`;}\nelse {\t\n\turl+='/q/?q='+key+'&m=&f=_all&s=create_time_DESC&p='+page;}\n\t\nlet webr=java.ajax(url);\njava.setContent(webr);\nresult=java.getElement('#classify_container li');\nlet hj=java.get('sshj');\n\nif (hj!=''&&result.length>1) {\n\tlet st=java.getString('.info@text',result);\n\tlet sj=st.match(/创建于([\\d\\ \\-\\:]+)/)[1];\n\tlet sl=st.match(/\\d+(?=张图)/g);\n\tsl=sl.reduce((acc, cur)=>acc+Number(cur),0);\n\tlet im=java.getString('img.0@all',result);\n\tlet rr=`<li><a class=\"info\" href=\"${url}\">${sl}张图${sj}</a></li>+${im}`;\n\tresult=[rr];\n\t} else {java.put('sshj','');\n\tresult;}\n</js>",
      "bookUrl": "<js>\nlet hj=java.get('sshj');\nlet url;\nif (hj=='') url= surl()+java.getString('a@href');\nelse url=java.getString('a@href');\n</js>",
      "checkKeyWord": "@系统",
      "coverUrl": "img@src",
      "kind": "<js>\n\tlet rr = '{{@@li@class##cate-}}';\n\tlet tt = `{{@@.info@text##([\\d\\-\\s\\:]{4,})$##$1###}}`;\n\tresult=rr ? (flfl[rr][0]+','+tt) : tt;\n</js>",
      "lastChapter": "",
      "name": "<js>\nlet hj=java.get('sshj');\nif (hj=='') {\n\tlet rr=`{{@@a@text}}`;\n\tlet nm=rr.match(/\\[([^\\[\\]]+)\\]\\s*([^\\[\\]]+)(?:(\\[[^\\[\\]]+\\])\\s*){0,2}/);\n\tif (nm) {java.put('anm',nm[1]); result=nm[2];}\n\telse {java.put('anm',rr); result=rr;}\n\t}\nelse {java.put('anm','合集'); result='📚'+hj;}\n\nresult\n</js>",
      "wordCount": ".info@text##^(\\d+)##$1张图###"
    },
    "ruleToc": {
      "chapterList": "<js>\nlet hj=java.get('sshj');\nif (hj=='') {\n\tlet rr=`<a href=\"${baseUrl}\">单章</a>`;\n\tresult = [rr];\n} else result = java.getElement('#classify_container li');\nresult\n</js>",
      "chapterName": "a@text",
      "chapterUrl": "a@href##index##webp",
      "formatJs": "",
      "isVolume": "",
      "nextTocUrl": "<js>\nlet hj=java.get('sshj');\nif (hj=='') {result=[];}\nelse {\nresult=gets('.block-pagination a@href').split('\\n');\nresult.push('http://localhost/');\n}\nresult\n</js>",
      "preUpdateJs": "",
      "updateTime": ".info@text##^(\\d+)\\D*([\\d\\-\\s\\:]{4,})$##$2　$1张图###"
    },
    "searchUrl": "{{`data:;base64,${java.base64Encode(key+'🀄'+page)},{'type':''}`;}}",
    "weight": 0
  },
  {
    "bookSourceComment": "┍　　　说明　　　作者：洛娅橙　　┒\n├────────────────┤\n│①书源默认优化正文加载，可能会导│\n│致下载书籍异常，在该登录界面点击│\n│启用下载即可。　　　　　　　　　│\n│②登录界面开启同步书架功能，在详│\n│情页下拉刷新两次或书架刷新，会自│\n│动同步至网站书架。　　　　　　　│\n│③支持屏蔽书籍为黑名单，之后在搜│\n│索和发现不再显示屏蔽后的书籍误点│\n│时，可再次点击进行恢复。　　　　│\n│④输出名单到日志需要在软件其它设│\n│置里开启记录日志功能。　　　　　│\n│⑤正则书名黑名单填写示例：　　　│\n│　/母亲|第\\d+部/　　　　　　　　　│\n│⑥白名单填写示例：　/岳母|御姐/　 │\n│同时符合黑名单与白名单的书籍正常│\n│显示，与单独屏蔽功能独立。　　　│\n│⑦网站选书：在书籍界面直接点击√│\n│会自动跳转详情页。　　　　　　　│\n│⑧封面字体颜色填写示例：　　　　│\n│ＦＦＦＦＦＦ　或　００００００　│\n├────────────────┤\n│　　　　　　　　　　　　　　　　│\n│请使用阅读最新测试版导入该书源　│\n└────────────────┘\n┍　　　　书源作者：洛娅橙　　　　┒\n├───┬────────────┤\n│！免责│本书源只提供代码进行技术│\n│！声明│交流，请于２４小时后删除│\n├───┴────────────┤\n│可在书源登录界面进行登录。　　　│\n│搜索关键词输入示意：　　　　　　│\n│“我的”、“书名：系统”、“作者│\n│：棺材”、“标签：母女”。　　　│\n│书籍变量可用来进行交互，详情查看│\n│相应界面的变量说明　　　　　　　│\n│　　　　　　　　　　　　　　　　│\n│❗❗❗如果你正在使用阅读正式版 │\n│非常遗憾书源会进行报错，很多功能│\n│在正式版无法支持实现。　　　　　│\n└────────────────┘\n___________________________________________\n八叉发布页：https://8xsk.org\nip地址查看：https://iplark.com",
    "bookSourceGroup": "🙈",
    "bookSourceName": "🌈八叉书库",
    "bookSourceType": 0,
    "bookSourceUrl": "洛娅橙-八叉书库",
    "bookUrlPattern": "https://www.(?:\\d+\\.xyz|8xbook.+)/book/\\d+\\.html",
    "concurrentRate": "1000",
    "coverDecodeJs": "",
    "customOrder": -93823,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "@js:\nlet banben=\"1.4.6\";\nftsm();\neval(String(source.loginUrl));\nlet surl = `{{String(source.getVariable()).replace(/\\\\/$/,'')}}`;\n\nvar obj = {\n\t最近更: {\n\t\t\"url\": \"/sort/0/{{page}}.html\",\n\t\t\"fg\": 9},\n\t\t'新(肉)':{\n\t\t\"url\": \"/sort/7/{{page}}.html\",\n\t\t\"fg\": 1},\n\t最近入库: {\n\t\t\"url\": \"/top/postdate/{{page}}.html\",\n\t\t\"fg\": 10},\n\t\t\n\t最近完: {\n\t\t\"url\": \"/modules/article/articlelist.php?fullflag=1&page={{page}}\",\n\t\t\"fg\": 9,\n\t\t\"wrap\": true},\n\t\t'结(肉)':{\n\t\t\"url\": \"/modules/article/articlelist.php?sortid=7&fullflag=1&page={{page}}\",\n\t\t\"fg\": 1},\n\t签约新书: {\n\t\t\"url\": \"/top/signtime/{{page}}.html\",\n\t\t\"fg\": 10},\n\t\t\n\t字数榜: {\n\t\t\"url\": \"/top/words/{{page}}.html\",\n\t\t\"wb\": true},\n\t收藏榜: {\n\t\t\"url\": \"/top/goodnum/{{page}}.html\"},\n\t新书榜: {\n\t\t\"url\": \"/top/newhot/{{page}}.html\"},\n\t\t\n\t总点击: {\n\t\t\"url\": \"/top/allvisit/{{page}}.html\",\n\t\t\"wb\": true},\n\t月点击: {\n\t\t\"url\": \"/top/monthvisit/{{page}}.html\"},\n\t周点击: {\n\t\t\"url\": \"/top/weekvisit/{{page}}.html\"},\n\t\t\n\t总推荐: {\n\t\t\"url\": \"/top/allvote/{{page}}.html\",\n\t\t\"wb\": true},\n\t月推荐: {\n\t\t\"url\": \"/top/monthvote/{{page}}.html\"},\n\t周推荐: {\n\t\t\"url\": \"/top/weekvote/{{page}}.html\"},\n\t\t搜索: {\n\t\t\turl: \t`{{\n\t\t\t\tlet surl = String(source.getVariable()).replace(/\\\\/$/,'');\n\t\t\t\tif (page == 1) {\n\t\t\t\t\ttry {\n\t\t\t\t\tlet [cb,cf] = colorz();\n\t\t\t\t\tsvg=\\`<svg width=\"990\" height=\"300\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"100%\" height=\"150%\" fill=\"#\\${cb}\"/><text fill=\"#\\${cf}\" text-anchor=\"middle\" dominant-baseline=\"middle\" stroke=\"#000000\" stroke-width=\"1\" font-weight=\"bold\"><tspan x=\"50%\" dy=\"30%\" font-size=\"100\">请输入搜索关键词</tspan><tspan x=\"50%\" dy=\"50%\" font-size=\"50\">此处搜索不支持完整书名</tspan></text></svg>\\`;\n\tsvg=java.base64Encode(svg);\n\tkeyy=java.getVerificationCode('data:image/svg+xml;base64,'+svg);\n\t\t\t\t\t} catch(err) {keyy='系统';\n\t\t\t\t\tPackages.java.lang.Thread.sleep(500);\n\t\t\t\t\tjava.toast('使用默认关键词“系统”');}\n\t\t\t\t\tsource.put('keyy',keyy);\n\t\t\t\t\t\t}\n\t\t\t\telse keyy = source.get('keyy');\n\t\t\t\turl =\tsurl+'/modules/article/search.php?searchkey='+keyy+'&searchtype=all&page='+page;\n\t\t\t\turl\n\t\t\t}}`,\n\t\t\t\"fb\": 0.3,\n\t\t\t\"wb\": true},\n\t我的书架: {\n\t\t\"url\": `{{\n\t\t\tif (page == 1) {\n\t\tlet surl = String(source.getVariable()).replace(/\\\\/$/,'');\n\t\tlet ck = source.getLoginHeader();\n\t\tcookie.replaceCookie(surl,ck);\n\t\tck ? surl+'/modules/article/bookcase.php' : java.longToast('请登录账号');\n\t\t} else 'http://127.0.0.1/';\n\t\t}}`,\n\t\t\"fb\": 0.3}\n\t}\n\nvar sort = [];\npush = (title, url, size, wrap, cc) => sort.push({\n    \"title\": title,\n    \"url\": url.startsWith(\"{{\") ? url : url ? surl + url : \"\",\n    \"style\": {\n      layout_flexGrow: size || 1,\n      layout_flexBasisPercent: cc || -1,\n      layout_wrapBefore: wrap ? wrap : false\n     }\n  });\n\nfor (x in obj) {\npush(x, obj[x].url, obj[x].fg, obj[x].wb, obj[x].fb);\n}\n\n//版本号\npush(\"版本号:\"+banben+\"　点我刷新地址\", `{{if(page==1) {\n\tjava.put(\"bj1\", 0);\n\tcache.put('8xbl1', source.getVariable());\n\tsource.setVariable(''); gengxin();\n\teval(String(source.loginUrl));\n\tif (java.get(\"bj1\")==1) java.longToast('源地址没有更新');;}\n\t'http://127.0.0.1/'+page}}`, 1, true);\npush(\"测速/更新\",`{{eval(String(source.loginUrl));gengxin(); Packages.java.lang.Thread.sleep(100); ceshi(); 'http://127.0.0.1/'}}`, 1);\n\nJSON.stringify(sort);",
    "header": "@js:\n(()=>{\n   // let ck = source.getLoginHeader() || '';\n    nn = String(source.getVariable());\n    let ck = cookie.getCookie(nn);\n    let headers = {\n    \t'User-Agent': ua,\n    \t'x-requested-with': x_r_w,\n    \t'sec-ch-ua': s_c_u,\n    \t'sec-ch-ua-platform': s_c_u_p,\n    \t'cookie': ck\n    \t };\n    \t return JSON.stringify(headers);\n})();",
    "jsLib": "ua = 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 Edg/132.0.2957.129';\nx_r_w = 'com.microsoft.emmx';\ns_c_u_p = 'Android';\ns_c_u = `\"Not(A:Brand\";v=\"99\", \"Android WebView\";v=\"133\", \"Chromium\";v=\"133\"`;\nfunction colorz() {\n\tconst {java, source} = this;\n\tlet cb,cf;\n\ttry {\n\t\tcb = source.getLoginInfoMap().get('封面背景颜色');\n\t\tif (cb=='') throw '空';\n\t\t} catch(err) {cb='151E27';}\n\ttry {\n\t\tcf = source.getLoginInfoMap().get('封面字体颜色');\n\t\tif (cf=='') throw '空';\n\t\t} catch(err) {cf='dddddd';}\nreturn [cb,cf];\n}\n\nfunction hexToInt(e, t) {\n        var r = e.substr(t, 2);\n        return parseInt(r, 16);\n    }\nfunction decodeEmail(n, c) {\n    var o = \"\", a = hexToInt(n, c), i = c + 2;\n    for (i; i < n.length; i += 2) {\n        var l = hexToInt(n, i) ^ a;\n        o += String.fromCharCode(l);\n    }\n        o = decodeURIComponent(escape(o));\n        return o\n}\n\n\nfunction ftsm(){\n\tconst {java, source} = this;\n\tlet nm = source.get('8xftn');\n\tif(nm==''||nm<0) {nm=3;}\nif(nm>0) {\n\tnm--;\n\tsource.put('8xftn',nm);\n\tlet ss = String(source.bookSourceComment).match(/\\n┍[^┘]+┘/)[0];\n\tjava.longToast(ss+'\\n该弹窗剩余次数：'+nm);\n\tPackages.java.lang.Thread.sleep(2000);\n\tjava.longToast(ss+'\\n该弹窗剩余次数：'+nm);}\n}\n\nfunction gengxin(){\nconst {java, source} = this;\n\tlet url0='https://gitee.com/lyc486/yuedu2/commits/main/书源/八叉/8x.json?browser_history=0&page=1&per=3';\n\tlet rr0=java.get(url0,{'User-Agent': 'Mozilla/5.0 (Linux; Android 14)','X-Requested-With': 'XMLHttpRequest'}).body();\n\tlet \tgxlrr = com.jayway.jsonpath.JsonPath.read(rr0, '$.list[0:3].title');\n\tlet [gxlr, gxlr2, gxlr3] = gxlrr;\n\tlet banben =   String(source.exploreUrl).match(/let banben=\"([\\d\\.]+)\"/)[1];\n\tgxlr=String(gxlr).split(/^([^\\-]+)-/);\n\tgxlr[0]=='' ? '' : gxlr=['','0',gxlr[0]];\n\tlet gxts;\n\tif (gxlr[1]>banben){gxts=['更新','0,140,186'];}\n\telse {gxts= ['导入','76,175,80'];};\n\tlet htm = `data:text/html;charset=utf-8,<html>\n<head>\n<title>更新</title>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<style>\ntable {\n\ttext-align: center;\n\tmargin: 0 auto;\n\t}\n.ann {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 50vh;\n\t}\nbutton {\n\tbackground-color: rgb(${gxts[1]});\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 4px;\n\theight: 6vh;\n\twidth: 30vw;\n\toverflow: hidden;\n\t}\nbutton span {\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  transition: 0.4s;\n}\nbutton span:after {\n  content: '>';\n  position: absolute;\n  opacity: 0;\n  top: 0;\n  right: 30px;\n  transition: 0.2s;\n}\nbutton:active span {\n  padding-right: 20px;\n}\nbutton:active span:after {\n  opacity: 1;\n  right: -40px;\n}\n</style>\n</head>\n<body>\n<table border=\"1\" cellspacing=\"0\">\n<th colspan=\"2\">最新日志：${gxlr[2]}</th>\n<tr>\n<td>仓库版本：${gxlr[1]}</td>\n<td>本地版本：${banben}</td>\n</tr>\n<tr>\n<td colspan=\"2\" style=\"text-align: left;\">往期日志：${gxlr2}<br>　　　　　${gxlr3}</td>\n</tr>\n</table>\n<div class=\"ann\">\n<a href=\"legado://import/importonline?src=https://gitee.com/lyc486/yuedu2/raw/main/书源/八叉/8x.json\">\n<button><span>${gxts[0]}</span></button>\n</a>\n</div>\n<a href=\"legado://import/importonline?src=https://cdn.jsdelivr.net/gh/Luoyacheng/yuedu@main/书源/八叉/8x.json\" style=\"font-size: 10px;\">备用链接</a>\n</body>\n</html>`;\nif(typeof this.book=='undefined'||gxts[0]=='更新') java.startBrowser(htm,'更新');\r\n}\n\nfunction tbshujia(iuu,iid){\nconst {java, source} = this;\nlet iuux=iuu+'/modules/article/addbookcase.php';\nlet iuuy=String(iuu+'/book/'+iid+'.html'); //需要转化否则报错\nlet tm = new Date().getTime();\nlet body = `bid=${iid}&ajax_request=${tm}`;\nlet ck = source.getLoginHeader()||'';\nlet headers = {\r\n        'User-Agent': ua,\n        'x-requested-with': x_r_w,\n        'sec-ch-ua-platform': s_c_u,\r\n        'referer': iuuy,\n        'cookie': ck\r\n    };\nif (String(ck).includes(\"jieqiUserInfo\") ) {\nlet by = java.post(iuux,body,headers).body();\njava.longToast('\\n'+this.book.name+'：\\n'+by);}\n}\n\nfunction hmdjib(id,name){\nconst {java, source, cache} = this;\n\tlet hmd=cache.get('8xhmd')||'{}';\n\thmd=JSON.parse(hmd);\n\tlet i=false;\n\ttry {\n\t\tlet rgstr = source.getLoginInfoMap().get('正则书名黑名单');\n\t\tlet rg = eval(String(rgstr));\n\t\ti=rg.test(name);\n\t\t} catch(err) {}\n\ttry {\n\t\tif (i) {\n\t\tlet rgstr = source.getLoginInfoMap().get('正则书名白名单');\n\t\tlet rg = eval(String(rgstr));\n\t\t i=!rg.test(name);\n\t\t }\n\t\t} catch(err) {}\n\t\ti = i||(id in hmd);\n\t\treturn i;\n\t}\n\nOranges = `<path d=\"M646.4 763.6c150.1-15.8 267.1-142.7 267.1-297 0-164.9-133.7-298.7-298.7-298.7-154.8 0-282.1 117.8-297.2 268.7\" fill=\"#FA9F23\" p-id=\"5624\"></path><path d=\"M648.6 784.8l-4.5-42.4c67.7-7.1 130.3-39 176.3-89.7 46.3-51.1 71.7-117.2 71.7-186.1 0-74.1-28.8-143.7-81.2-196.1-52.4-52.4-122-81.2-196.1-81.2-69.2 0-135.5 25.6-186.6 72.2-50.8 46.3-82.5 109.2-89.3 177.3l-42.5-4.2c7.8-78.6 44.4-151.2 103-204.6 59-53.7 135.5-83.3 215.4-83.3 85.5 0 165.8 33.3 226.3 93.7 60.4 60.4 93.7 140.8 93.7 226.3 0 79.6-29.4 155.9-82.8 214.8-53 58.3-125.2 95.1-203.4 103.3z\" fill=\"#333333\" p-id=\"5625\"></path><path d=\"M161.5 832.4c116.6 116.6 305.7 116.6 422.4 0s116.6-305.7 0-422.4\" fill=\"#FA9F23\" p-id=\"5626\"></path><path d=\"M372.7 941.2c-85.5 0-165.8-33.3-226.3-93.7l30.2-30.2c52.4 52.4 122 81.2 196.1 81.2s143.7-28.8 196.1-81.2c52.4-52.4 81.2-122 81.2-196.1s-28.8-143.7-81.2-196.1l30.2-30.2c60.4 60.4 93.7 140.8 93.7 226.3S659.4 787 599 847.5c-60.5 60.4-140.8 93.7-226.3 93.7z\" fill=\"#333333\" p-id=\"5627\"></path><path d=\"M161.480941 832.416461a170.7 298.7 44.999 1 0 422.418218-422.432964 170.7 298.7 44.999 1 0-422.418218 422.432964Z\" fill=\"#FBE0C3\" p-id=\"5628\"></path><path d=\"M249.1 885.8c-9.3 0-18.4-0.7-27.2-2-30.5-4.6-55.9-16.8-75.5-36.4-19.6-19.6-31.8-45-36.4-75.5-4.2-28-1.7-59 7.4-92.4 18.1-66.2 60.5-135.2 119.5-194.2S364.9 384 431.1 366c33.3-9.1 64.4-11.6 92.4-7.4 30.5 4.6 55.9 16.8 75.5 36.4s31.8 45 36.4 75.5c4.2 28 1.7 59-7.4 92.4C609.9 629 567.5 698 508.5 757s-128 101.4-194.2 119.5c-22.9 6.2-44.7 9.3-65.2 9.3z m18-370.2c-53.8 53.8-92.4 116.1-108.5 175.2-15 55-8.6 99.9 18 126.5s71.5 33 126.5 18c59.2-16.1 121.4-54.7 175.2-108.5 53.8-53.8 92.4-116.1 108.5-175.2 15-55 8.6-99.9-18-126.5s-71.5-33-126.5-18c-59.1 16.2-121.4 54.7-175.2 108.5z\" fill=\"#333333\" p-id=\"5629\"></path><path d=\"M373.3 641.5h148.4c-16.2 23.8-35.8 47.6-58.5 70.2-28.9 28.9-59.7 52.9-90 71.1l0.1-141.3z m187.1-193.4c27 37.3 15.7 103.4-25.2 172.1H388.3l172.1-172.1zM351.9 656.6v138.2c-61.4 31.7-118.7 38.6-152.4 14.2l152.4-152.4z m-152.5-15.1h137.4L184.6 793.8c-24-33.9-16.9-91.1 14.8-152.3z m173.9-182.6c68.5-40.9 134.5-52.4 172-25.9l-172 172V458.9z m-91.1 71.8c22.5-22.5 46.1-42 69.7-58.1v147.6H211.4c17.6-29.1 40.4-58.6 67.8-86.5l3-3z\" fill=\"#F5A74A\" p-id=\"5630\"></path><path d=\"M625.8 266.5l-13.5 9.9c-1.9 1.4-4.6 1-6-0.9-0.6-0.9-0.9-1.9-0.8-3l1.8-16.7L592 249c-2.2-1-3.1-3.5-2.2-5.6 0.4-1 1.2-1.8 2.2-2.2l15.3-6.8-1.8-16.7c-0.3-2.3 1.4-4.4 3.8-4.7 1.1-0.1 2.1 0.2 3 0.8l13.5 9.9 13.5-9.9c1.9-1.4 4.6-1 6 0.9 0.6 0.9 0.9 1.9 0.8 3l-1.8 16.7 15.3 6.8c2.2 1 3.1 3.5 2.2 5.6-0.4 1-1.2 1.8-2.2 2.2l-15.3 6.8 1.8 16.7c0.3 2.3-1.4 4.4-3.8 4.7-1.1 0.1-2.1-0.2-3-0.8l-13.5-9.9z\" fill=\"#333333\" p-id=\"5631\"></path><path d=\"M799.4 313.5m-12.8 0a12.8 12.8 0 1 0 25.6 0 12.8 12.8 0 1 0-25.6 0Z\" fill=\"#333333\" p-id=\"5632\"></path><path d=\"M828.4 348.3m-12.8 0a12.8 12.8 0 1 0 25.6 0 12.8 12.8 0 1 0-25.6 0Z\" fill=\"#333333\" p-id=\"5633\"></path>`;\n\nfunction jinghuafm() {\nconst {java, source} = this;\t\nfunction splitString(str) {\n    const length = str.length;\n    if (length < 15) {\n        return length<9 ? [str] : [\n            str.slice(0, 7),\n            str.slice(7)\n        ].filter(s => s);\n    } else if (length < 20) {\n        return [\n            str.slice(0, 7),\n            str.slice(7,13),\n            str.slice(13)\n        ].filter(s => s);\n    }  else if (length < 24) {\n        return [\n            str.slice(0, 7),\n            str.slice(7,13),\n            str.slice(13,18),\n            str.slice(18)\n        ].filter(s => s);\n    } else {\n        return [\n            str.slice(0, 7),\n            str.slice(7, 13),\n            str.slice(13, 18),\n            str.slice(18, 22),\n            str.slice(22)\n        ].filter(s => s);\n    }\n}\nfunction pingString(ss) {\nlet rr='';\nlet l1=ss.length;\nfor (let i1=0; i1<l1; i1++) {\n\tlet c1=ss[i1], l2=c1.length;\n\tfor (let i2=0; i2<l2; i2++) {\n\t\tlet c2=c1.charAt(i2);\n\t\trr += `<tspan x=\"${100+180*ii}\" y=\"${180+170*(i2+i1)}\">${c2}</tspan>`;\n\t\t}\n\t\tii++;\n\t}\n\treturn rr;\n}\n\nlet [cb,cf] = colorz();\n\nlet bknm=String(this.book.name).replace(/\\.{2,}/,'…');\nbknm=bknm.match(/[a-z][a-z\\+一-ꀀ\\d…]+|[一-ꀀ\\da-z]{2,}(?:\\.\\d+[一-ꀀ]*|[…？])?|[一-ꀀ]/gi);\nlet hz='';\nlet ii=0;\n\nfor (char of bknm) {\n\thz += pingString(splitString(char) );\n\t}\n\nsvg = `<svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5623\" width=\"100%\" height=\"100%\">\n<rect width=\"100%\" height=\"150%\" fill=\"#${cb}\"/>\n<g transform=\"scale(0.4) translate(1600,2500)\">${Oranges}</g>\n<text fill=\"#${cf}\" stroke=\"#000000\" stroke-width=\"2\" font-weight=\"bold\" font-size=\"150\" text-anchor=\"middle\" dominant-baseline=\"middle\">\n${hz}\n</text>\n</svg>`;\nsvg=java.base64Encode(svg);\nreturn 'data:image/svg+xml;base64,'+svg;\n}\n",
    "lastUpdateTime": "1740709447657",
    "loginCheckJs": "//java.toast('登录检查:'+result);\nlet code = result.code();\nif (code == 403) {\n\tjava.toast('\\n访问被拒绝');\n\t}\nelse if (code == 520) {\n\tjava.toast('\\nIP被拉黑');\n\t}\nresult",
    "loginUi": "[\n    {\n        name: \"账号\",\n        type: \"text\"\n    },\n    {\n        name: \"密码\",\n        type: \"password\"\n    },\n    {\n        name: \"💍注册\",\n        type: \"button\",\n        action: \"web()\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    {\n        name: \"🔺登　录🔺\",\n        type: \"button\",\n        action: \"Login()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    {\n        name: \"♤登出\",\n        type: \"button\",\n        action: \"re()\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    {\n    \tname: \"💬说明\",\n    \ttype: \"button\",\n    \taction: \"sm()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": -1,\n            \"layout_wrapBefore\": true\n        }\n    \t},\n    \t{\n        name: \"🧾延迟测试\",\n        type: \"button\",\n        action: \"ceshi()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    \t{\n        name: \"⏭️启用下载\",\n        type: \"button\",\n        action: \"downl()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    \t{\n        name: \"🌐打开本书↓\",\n        type: \"button\",\n        action: \"webb()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": -1,\n            \"layout_wrapBefore\": true\n        }\n    },\n    \t{\n        name: \"❌屏蔽\",\n        type: \"button\",\n        action: \"hmd()\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    \t{\n        name: \"🧹清理\",\n        type: \"button\",\n        action: \"hmdre()\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    {\n        name: \"书名\",\n        type: \"text\"\n    },\n    \t{\n        name: \"🆕版本更新\",\n        type: \"button\",\n        action: \"gengxin()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    \t{\n        name: \"♻️同步书架\",\n        type: \"button\",\n        action: \"shujia()\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    \t{\n        name: \"🌐书架\",\n        type: \"button\",\n        action: \"webbs(1)\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    {\n        name: \"正则书名黑名单\",\n        type: \"text\"\n    },\n    {\n        name: \"正则书名白名单\",\n        type: \"text\"\n    },\n    \t{\n        name: \"🌐查看日志\",\n        type: \"button\",\n        action: \"gitee()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": -1,\n            \"layout_wrapBefore\": true\n        }\n    },\n    \t{\n        name: \"🌐网站选书\",\n        type: \"button\",\n        action: \"webbs(2)\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    \t{\n        name: \"🔁书名\",\n        type: \"button\",\n        action: \"shuming()\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    \t{\n        name: \"🗻净化封面\",\n        type: \"button\",\n        action: \"jhfm()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    \t{\n        name: \"🌐书源介绍\",\n        type: \"button\",\n        action: \"java.startBrowser('https://pd.qq.com/s/4x9ejv73','介绍');\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    \t{\n        name: \"🤔反馈\",\n        type: \"button\",\n        action: \"java.startBrowser('https://github.com/Luoyacheng/yuedu/issues','8x反馈');\",\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": -1\n        }\n    },\n    {\n        name: \"封面背景颜色\",\n        type: \"text\"\n    },\n    {\n        name: \"封面字体颜色\",\n        type: \"text\"\n    }\n]",
    "loginUrl": "nn = String(source.getVariable()).replace(/\\/$/,'');\nif (!nn) {\nlet rr=java.connect('https://www.8xsk.org/');\nlet ur=(rr.body().match(/电脑主站[^\"]+\\\"([^\"]+)\\\"/)||['',''])[1];\nlet x = cache.get('8xbl1');\nif (ur == '') {\n\tjava.longToast(\"书源地址获取失败💔\");\n\tsource.setVariable(x);\n\t}\nelse {\n\tif (ur != x) {\n\t\t\tjava.log(\"八叉源地址更新：\"+ur);\n\t\t\tjava.longToast(\"🎉书源地址已更新\");\n\t\t\tcache.put('8xbl1',ur);}\n\t\telse {java.put(\"bj1\", 1);}\n\t\t\tsource.setVariable(ur);\n\t\t\tnn = ur;\n\t}\n}\n\nfunction login(){}\r\nfunction Login(){\n\tjava.longToast('\\n正在登录...\\n稍等一下');\n\tsource.removeLoginHeader();\n//\tcookie.removeCookie(nn);\n\tlet wbjs=`\n\t\tconst inpt = document.querySelector('input[name=\"checkcode\"]');\n\t\tconst oCode = inpt.getAttribute(\"onfocus\");\n\t\tconst url=oCode.match(/src\\\\s*=\\\\s*[\"']([^\"']+)/)[1];\n\t\turl\n`;\n    let url0=java.webView(null,nn,wbjs);\n    let code=java.getVerificationCode(url0);\n    let ck = cookie.getCookie(nn);\r\n    let url = nn+'/login.php';\r\n    let un = result['账号'];\r\n    let pw = result['密码'];\r\n    let time = new Date().getTime();\n    let body = `username=${un}&password=${pw}&checkcode=${code}&usecookie=1&act=login&jumpreferer=1&t_btnlogin=&ajax_request=${time}`;\n\r\n    let headers = {\r\n        'referer': nn,\n        \t'user-agent': ua,\n        \t'x-requested-with': x_r_w,\n        \t'sec-ch-ua-platform': s_c_u_p,\n        \t'cookie': ck\r\n    };\n    if (un!=''&&pw!='') {\n    let cookie1 = java.post(url,body,headers).cookies();\n    let ck = cookie.mapToCookie(cookie1);\n    //处理cookie格式\r\n    source.putLoginHeader(ck);\n  //  cookie.removeCookie(nn);\n    let i = String(ck).includes(\"jieqiUserInfo\");\n    //会存入登录信息，无需点✓\r\n    if (i) {source.putLoginInfo(JSON.stringify(result));java.toast(\"登录成功，VIP模式💎\");}\r\n    else java.toast(\"登录失败，访客模式🔒\");\n    } else {java.toast(\"💔账号和密码不能为空\");}\n\r\n}\r\n\r\nfunction web(){\r\n    let url = nn.replace('www.','') + '/register.php';\n    cookie.removeCookie(url);\r\n    java.startBrowser(url, '八叉注册');\r\n}\n\nfunction ceshi(){\n\t['　　　','·　　','··　','···'].forEach((_,i) => {java.toast('\\n\\n测试中'+_+'\\n');Packages.java.lang.Thread.sleep((3-i)*100);}); //然并卵的动画(但是好看)\n\ttry {\n  const startTime=new Date().getTime();\n\tjava.head(nn,{\t'user-agent': ua});\n\tconst endTime=new Date().getTime();\n\tlet speed = (endTime - startTime) / 1000;\n\tspeed = speed.toFixed(2);\n\tjava.toast('\\n\\n延迟：'+speed+'秒\\n');\n\t} catch(err) {java.longToast(err);}\n\r\n}\n\n\r\nfunction re(){\n\t//输出一份数据到日志，以备需\n\tjava.log('\\n账号：'+result['账号']+'\\n密码：'+result['密码']);\n\t//消除相应数据\r\n    cookie.removeCookie(nn);\n    source.removeLoginHeader();\n    result['账号']=result['密码']='';\n    source.putLoginInfo(JSON.stringify(result));\n    cache.deleteMemory('8xid');\n    java.toast(\"回到访客模式🔒\");\r\n}\n\r\nfunction sm(){\nlet banben =   String(source.exploreUrl).match(/let banben=\"([\\d\\.]+)\"/)[1];\nlet ss = String(source.bookSourceComment).match(/^[^┘]+┘/);\nlet cki = String(source.getLoginHeader()).includes(\"jieqiUserInfo\");\n    let ms= \"访客模式🔒\";\n    if (cki != '') {\r\n        ms = \"VIP模式💎\";\r\n    }\r\nlet tt = `\n网址：${nn}　　 \n模式：${ms}　　　　　　   \n版本：${banben}　　　　　　　　　　\n\n${ss}`;\n    java.longToast(tt);\r\n}\nfunction webck(){\n\tlet nnm=nn.replace('www.','');\n\tlet ck=source.getLoginHeader()||'';\n\tcookie.replaceCookie(nnm,ck);\n\treturn nnm;\n\t}\nfunction webb(){\n\tlet id = cache.getFromMemory('8xid');\n  if (id) {\n  \tid=Object.keys(id)[0];\n  \tlet nnm=webck();\n   java.startBrowser(`${nnm}/book/${id}.html`,'八叉');\n   } else {java.toast('\\n请在书籍界面点击或刷新书籍');}\n}\n\nfunction webbs(x){\n\tlet nnm=webck();\n\tif (x==1) {nnm+='/modules/article/bookcase.php';}\n\tlet wr=java.startBrowserAwait(nnm,'web',false).body();\n\tlet bkid=(wr.match(/https.+\\/book\\/(\\d+).*\\.html/)||['',''])[1];\n\tlet url = 'legado://import/addToBookshelf?src='+nn+'/book/'+bkid+'.html,{origin:洛娅橙-八叉书库}';\n\tif (bkid!='') java.openUrl(url);\n}\n\nfunction hmd(){\n\tlet id = cache.getFromMemory('8xid');\n\tif (id) {\n\tlet hmd = cache.get('8xhmd')||'{}';\n\thmd = JSON.parse(hmd);\n\tlet idd = Object.keys(id)[0];\n\tif (idd in hmd) {\n\t\tdelete hmd[idd];\n\t\tcache.put('8xhmd',JSON.stringify(hmd),0);\n\t\tjava.longToast('\\n已将书籍：'+Object.values(id)[0]+'\\n移除黑名单😅');\n\t\t}\telse {\n\thmd = Object.assign({},hmd,id);\n\tcache.put('8xhmd',JSON.stringify(hmd),0);\n\tjava.longToast('\\n已将书籍：'+Object.values(id)[0]+'\\n加入黑名单😤');}\n\t\n\t} else {java.toast('\\n请在书籍界面点击或刷新书籍');}\n\t\n}\n\nfunction hmdre(){\n\tlet hmd=cache.get('8xhmd')||'{}';\n\thmd=JSON.parse(hmd);\n\tlet ss=Object.entries(hmd);\nlet [cb,cf] = colorz();\nlet svg=`<svg width=\"990\" height=\"300\" xmlns=\"http://www.w3.org/2000/svg\">\n<style>\ntext {\n\twhite-space: pre;\n\tword-wrap: break-word;}\n</style>\n<rect width=\"100%\" height=\"150%\" fill=\"#${cb}\"/>\n<text fill=\"#${cf}\" text-anchor=\"middle\" dominant-baseline=\"middle\" stroke=\"#000000\" stroke-width=\"1\" font-weight=\"bold\">\n<tspan x=\"50%\" dy=\"30%\" font-size=\"100\">\n是否清空黑名单<tspan font-size=\"30\">（${ss.length}）</tspan>\n</tspan>\n<tspan x=\"42%\" dy=\"25%\" font-size=\"60\">输入“确认”进行清空</tspan>\n<tspan x=\"50%\" dy=\"20%\" font-size=\"50\">输入“名单”打印一份名单到日志</tspan>\n<tspan x=\"50%\" dy=\"20%\" font-size=\"50\">输入书籍ID单独移出黑名单<tspan font-size=\"30\">(名单查看)</tspan></tspan>\n</text>\n</svg>`;\nsvg=java.base64Encode(svg);\n\ntry {\n//拦截验证码报错\nlet ysr=java.getVerificationCode('data:image/svg+xml;base64,'+svg);\nPackages.java.lang.Thread.sleep(100);\nif (ysr=='确认') {\n\tcache.delete('8xhmd');\n\tjava.toast('\\n已清空');\n}\nelse if (ysr=='名单') {\n\tjava.log('\\n💔8x黑名单：\\n'+ss.join('\\n'));\n\tcache.put('8xbff',source.getLoginInfo());\n}\nelse if (/\\d{3,}/.test(ysr)) {\n\tif (ysr in hmd) {\n\tjava.toast('\\n已将书籍：'+hmd[ysr]+'\\n移除黑名单');\n\tdelete hmd[ysr];\n\tcache.put('8xhmd',JSON.stringify(hmd),0);\n\t} else {java.toast('移出失败');}\n}\nelse if (ysr=='恢复') {\n\tlet ryr=cache.get('8xbff');\n\tsource.putLoginInfo(ryr);\n}\n\n} catch(err) {}\n}\n\nfunction downl() {\nlet dn = source.get('8xdn');\nif(dn!=1) {source.put('8xdn',1);java.toast('已支持下载');}\nelse {source.put('8xdn',0);java.toast('已优化加载');}\n\t}\nfunction shujia() {\nlet dn = source.get('8xsj');\nif(dn!=1) {source.put('8xsj',1);java.toast('🟢已启用同步网站书架');}\nelse {source.put('8xsj',0);java.toast('⚫已关闭同步网站书架');}\n\t}\nfunction shuming() {\nlet sm = source.get('8xsm');\nif(sm!=1) {source.put('8xsm',1);java.toast('🟢书名跟随更新');}\nelse {source.put('8xsm',0);java.toast('⚫书名保持初始');}\n\t}\nfunction jhfm() {\nlet jhf = source.get('8xjhf');\nif(jhf!=1) {source.put('8xjhf',1);java.toast('😈净化封面');}\nelse {source.put('8xjhf',0);java.toast('😍显示封面');}\n\t}\n\nfunction gitee() {\njava.startBrowser(`https://gitee.com/lyc486/yuedu2/commits/main/书源/八叉/8x.json,{\n\t\t'headers': {\n\t\t\t'User-Agent': 'Mozilla/5.0 (Linux; Android 14)'}\n\t\t\t}`,'日志');\n}",
    "respondTime": 9789,
    "ruleBookInfo": {
      "author": "",
      "canReName": "",
      "coverUrl": "class.divbox cf@img.0@src\n<js>\nlet jhf=source.get('8xjhf');\nif (jhf=='1') result=jinghuafm();\nresult\n</js>",
      "init": "<js>\n//重定向和导入书架处理\nlet i = String(book.bookUrl).includes('https:/');\nif (i) {\n\tbook.bookUrl = `data:;base64,${java.base64Encode(baseUrl.replace(/,{o.+/,''))},{'type':''}`;\n\t}\n\n//告诉目录是由详情来的\njava.put('sx1',1);\n\nnn = String(source.getVariable()).replace(/\\/$/,'');\nif (nn=='') {\n\t{{source.loginUrl}}\n\tnn = String(source.getVariable()).replace(/\\/$/,'');}\n\n//发书评功能\nlet bkbl = book.getVariable(\"custom\");\n//解书籍地址\nlet ml = String(book.bookUrl).replace(/.+,(.+),.+/,'$1');\nlet mlj = java.base64Decode(ml);\nlet bkid = (mlj.match(/book\\/(\\d+)/)||['',''])[1];\n//↑获取书id\njava.put('bkid',bkid);\n\nif (bkbl=='🔒'||bkbl=='') {\n//带🔒或书籍变量为空会经过这里\n//处理加书架功能\nlet sj=java.get('sj');\nlet sj2=source.get('8xsj'); //启用同步的标识\nif (sj=='2'&&sj2=='1') {java.put('sj',3);tbshujia(nn,bkid);}\nelse if (sj=='1') {java.put('sj',2);}\n\n\t}\nelse if (bkbl=='目录') {\n\t//清空最新章储存强制刷新目录\n\tjava.put('8xzx','');\n\t//清空输入的书籍变量\n\tbook.putCustomVariable('');}\nelse {\nlet pfurl = nn+'/modules/article/rating.php';\nlet plurl = nn+'/modules/article/reviews.php';\nlet ck = source.getLoginHeader()||'';\nlet cki = ck.match(/UserToken%3D([^%]+)/)||['',''];\ntk = cki[1];\n//ck = cookie.getCookie(nn);\n//↑获取链接和tk\n\nif (bkid != '' && tk != '') {\nlet tm = new Date().getTime();\nlet bkfs = (bkbl.match(/^(\\d|10)分$/) || ['','0'])[1];\nlet pfbody = `score=${bkfs}&id=${bkid}&ajax_request=${tm}`;\nlet plbody = `ptitle=&act=newpost&jieqi_token=${tk}&Submit=&pcontent=${bkbl}&aid=${bkid}&ajax_request=${tm}`;\n\nlet headers = {\r\n        'User-Agent': ua,\n        'x-requested-with': x_r_w,\n        'sec-ch-ua-platform': s_c_u,\r\n        'referer': mlj,\n        'cookie': ck\r\n    };\nif (bkfs != 0) {url=pfurl;body=pfbody;}\nelse {url=plurl;body=plbody;}\n//清空输入的书籍变量\nbook.putCustomVariable('');\nlet by = java.post(url,body,headers).body();\njava.longToast(\"\\n\"+java.htmlFormat(by));\n\t} else if (tk == '') {java.toast('未登录');}\n}\n\n//随机延时0-1秒\nlet tim = Math.floor(Math.random()*1001);\n//java.log('延时'+tim);\nPackages.java.lang.Thread.sleep(tim);\n\n//先发评论再访问刷新\nif (!i) {\n\tlet tt = java.hexDecodeToString(result);\n\t//不能直接访问tt，result无法改动\n\ttt=String(tt).replace(/https\\:\\/{2}[A-z\\d\\.]+/,'');\n\tconst startTime=new Date().getTime();\n\tresult = java.ajax(nn+tt); //+\",{'webView': true}\"\n\tconst endTime=new Date().getTime();\n\tlet speed = (endTime - startTime)/1000;\n\tif (speed>19) {java.toast('\\n详情页访问延迟：'+speed.toFixed()+'秒');}\n\tjava.setContent(result);\n\t}\n\n//内容判断\nlet r = java.getString('@@meta[name=\"keywords\"]@content');\nlet name=String(r).replace(/\\, .+/,'');\nlet author=String(r).replace(/.+\\, /,'');\n\nif (name) {\n\tbook.name=String(book.name)||name;\n\tbook.author=String(book.author)||author;\n//放入书名\nlet Info=source.getLoginInfoMap()||{};\nInfo['书名'] = book.name;\nsource.putLoginInfo(JSON.stringify(Info));\n//放入ID和书名。正式版js语法报错点\ncache.putMemory('8xid',{[bkid]: book.name});\n\tif (book.name!=name) {\n\t\t\tlet sm=source.get('8xsm'),sm1=java.get('sm1');\n\t\t\t//sm功能标记，sm1判断标记\n\t\t\tif (sm1=='') {\n\t\t\t//可能源地址换新了，进行更新\n\t\t\tcache.put('8xbl1', source.getVariable() );\n\t\t\tsource.setVariable('');\n\t\t\tjava.put('sm1',1);\n\t\t\t} else if (sm=='1') {\n\t\t\t\tbook.name=name;\n\t\t\t\tjava.toast(\"已自动更新书名\");\n\t\t\t} else if (sm1=='1') {\n\t\t\t\tjava.longToast(\"详情页获取的书名：\\n《\"+name+\"》\");\n\t\t\t\tjava.log(\"书名：\"+name);\n\t\t\t\tjava.put('sm1',2);\n\t\t\t}\n\t\t\t\n}\telse if (book.author!=author) {java.log(\"获取的作者不同，作者：\"+author);} //仅输出日志\n\t\n\t//书名和作者正常由此过\n\t}\nelse {\n\t//书名加载失败\n\tcache.put('8xbl1', source.getVariable() );\n\tsource.setVariable('');\n\tjava.toast(\"详情页加载失败，请刷新重试\");\n}\n\tresult\n</js>",
      "intro": "{{\n//书名过长时在简介显示\nlet length = 0;\nlet fuhao = ',.?!:;()[]\"';\n\nfor (char of String(book.name)) {\n\tif (fuhao.includes(char) ) length += 0.5;\n\telse length += 1;\n\t}\n//大于18个全角字符\nif (length > 18) '《'+book.name+'》'\nelse '&#10;'\n}}\n{{\nlet zx = java.getString('class.divbox@h3@a@text');\nlet temp=java.getStringList('class.tabcontent@class.tabvalue.1@td[0:3,9,10]@text');\nrr=Object.values(temp);\n//处理rr\n[rr[0], rr[2]] = [rr[2], rr[0]];\nrr[0] = '最新：' + String(zx).replace(/^正文|^\\s+/,'') + String(rr[0]).replace('最后更新：',' ').replaceAll('-','/') + String(rr[1]).replace(/连载状态：(.+)/,' ($1)');\ndelete rr[1];\nrr[2] = String(rr[2]).replace(/作品分类：\\s*/,'分类：') + String(rr[3]).replace(/作品性质：(.+)/,' ($1)');\ndelete rr[3];\nrr[4] = String(rr[4]).replace(/总点击数：\\s*/,'点击：') + String(rr[5]).replace(/本月点击：(.+)/,'　$1 (月)');\ndelete rr[5];\n//评分\nlet pf=java.getString('.ratediv@text');\nlet r0 = rr.join('\\n') + '\\n' + String(pf).replace(/评分：\\s*/,'评分：');\n//简介\nlet r1=java.getString('.tabcontent .tabvalue:eq(0) div@html');\nif (r1==\"\") {r1='';}\nelse {\n r1 = '\\n简介：\\n' + String(r1).replace(/[\\u3000\\u2003]{2}/g,'\\n').replace('「','“').replace('」','”').replace(/\\>\\s*内容简介/,'')\n\t}\n//评论\nlet r2=String(java.getString('#content>.c_row@html'));\nlet xi = book.getVariable(\"custom\")==\"🔒\";\nif (r2==''||xi) {r2='';}\nelse {\n\tr2 = r2.replace(/<div class=\"c_subject\"[\\S\\s]+?div>|<span class=\"fr\"[\\S\\s]+?span>|回复：.+/g,'').replace(/<p[> ].+<\\/p>/g,'﹍');\n\t//java.htmlFormat(r);\n\t}\n\tr0 + r1 + r2\n}}",
      "kind": "b:contains(标签：)~a@text\n<js>\nString(result).slice(1, -1).replace(/[\\#\\,]/g,'').split(' ');\n</js>",
      "lastChapter": "class.divbox@h3@a@text\n<js>\nlet zx = java.get('8xzx');\nif (zx==result) java.put('ww',1);\nelse {java.put('8xzx',result);java.put('ww',0);}\nresult\n</js>",
      "name": "",
      "tocUrl": "<js>\n//清除用户自定义简介\n//book.delete(); //如果更新发生异常会掉书籍信息，目录页取消书架\n//book.upCustomIntro(); //目录页生效\n\n//解书籍url为http\nlet ml = String(book.bookUrl).replace(/.+,(.+),.+/,'$1');\nlet mlj = java.base64Decode(ml);\nif (mlj.includes('search.php') ) {java.toast('书籍地址异常');}\n//转化目录url\nlet mll = mlj.replace('/book/', '/read/');\n`data:;base64,${java.base64Encode(mll)},{'type':''}`;\n</js>",
      "wordCount": ".tabcontent .tabvalue.1@html##全文字数：(\\d+)##$1###"
    },
    "ruleContent": {
      "content": "<js>\nlet bin = book.durChapterIndex;\nlet cin = chapter.index;\nlet inn = cin - bin;\nlet dn = source.get('8xdn');\nlet sleep = Packages.java.lang.Thread.sleep;\n//java.log(chapter.title+'inn：'+inn);\nif ((inn==-4||inn==4)&&dn!=1) {java.longToast('\\n使用下载需要在书源登录界面开启功能\\n建议预下载设定不要大于3');}\n\nnn = String(source.getVariable()).replace(/\\/$/,'');\nif (nn=='') {\n\t{{source.loginUrl}}\n\tnn = String(source.getVariable()).replace(/\\/$/,'');}\n\nlet tim = Math.floor(Math.random()*501);\nlet ii = 1;\n//*手动限制并发,下载时(0-50秒随机)\n\nswitch(inn) {\n\tcase 0: break;\n\tcase 1: sleep(1500+tim); break;\n\tcase 2: sleep(4500+tim); break;\n\tcase 3: sleep(7500+tim); break;\n\tcase -1: sleep(3000+tim); break;\n\tcase -2: dn==1 ? sleep(6000+tim) : ii=0;break;\n\tcase -3: dn==1 ? sleep(9000+tim) : ii=0;break;\n\tdefault: dn==1 ? sleep(tim*100) : ii=0;break;\n}\n\n//延时结束\n//java.log(chapter.title+'inn：'+inn+'延时结束');\nlet bkid = java.get('bkid'); //两个putm用\n\nif (inn==0||inn==1) {\n//放入书名和id\ncache.putMemory('8xid',{[bkid]: book.name});\nlet Info=source.getLoginInfoMap()||{};\nInfo['书名'] = book.name;\nsource.putLoginInfo(JSON.stringify(Info));\n}\n\nlet tt = java.hexDecodeToString(result);\ntt=String(tt).replace(/https\\:\\/{2}[A-z\\d\\.]+/,nn);\n//java.log('正文地址：'+tt);\nlet ml = String(book.tocUrl).replace(/.+,(.+),.+/,'$1');\nlet mlj = java.base64Decode(ml);\nlet ck0 = source.getLoginHeader();\nlet headers0 = {\r\n        'user-agent': ua,\n        'x-requested-with': x_r_w,\n        'sec-ch-ua': s_c_u,\n        'sec-ch-ua-platform': s_c_u_p,\r\n        'referer': mlj,\n        'cookie': ck0\r\n    };\n\nlet getr;\nif (ii) {\n//↓第一次访问正文\ntry {\nconst startTime=new Date().getTime();\ngetr = java.get(tt,headers0);\n//java.log(chapter.title+'inn：'+inn+'访问结束');\nconst endTime=new Date().getTime();\n//判断访问情况，错误时把响应内容清除\nif (getr.statusCode() == 200) {\n\tresult = getr.body();\n\tlet speed = (endTime - startTime)/1000;\n\tif (speed>19) java.toast('\\n正文页访问延迟：'+speed.toFixed()+'秒');\n\t} else {java.toast('\\n正文链接响应码错误，inn='+inn);result='';}\n//复原手机版链接，干掉字数统计\nchapter.url = tt.replace('www.','');\n\n//拦截超时报错\n} catch (e) {if (/timeout/.test(e)) java.toast('正文超时');\njava.log('🍊正文出错：'+e);}\n// if ii 结束\n\t} else {result='';}\n//inn>1时为空，软件会自动重新获取\n\nlet rr = java.getString('class.mt mb@a@text||class.tc mb@a@text',result);\n\n//内容识别\nif (rr.includes(\"登录\") ) {\n\tjava.toast(\"💎请重新登录书源账号\");\n\tresult='';}\nelse if (rr.includes(\"充值\") ) {\nlet url = nn+'/modules/obook/buychapter.php';\nlet ck = source.getLoginHeader();\nlet tk = (ck.match(/UserToken%3D([^%]+)/)||['',''])[1];\nlet cid = tt.match(/cid\\=(\\d+)/)[1];\nlet body = `buytype=1&act=buy&jieqi_token=${tk}&cid=${cid}&submit=`;\nlet headers = {\r\n        'user-agent': ua,\n        'x-requested-with': x_r_w,\n        'sec-ch-ua': s_c_u,\n        'sec-ch-ua-platform': s_c_u_p,\r\n        'referer': tt,\n        'cookie': ck\r\n    };\n    \nlet vip = cache.getFromMemory('8xvip'+bkid);\nif (tk && nn&&vip!=1) {\n\t//标识本书准备请求VIP，防其它章节请求\n\tcache.putMemory('8xvip'+bkid,1);\n\tsleep(1000-tim);\n\tlet pt = java.post(url,body,headers);\n\tlet lc = pt.header(\"location\");\n\tjava.toast(\"🔓已购买\");\n\t//重新解析正文\n\tresult = java.ajax(lc);\n\tresult = java.getString('#content,#acontent@html',result);\n\t} else {java.longToast(\"💔VIP内容获取失败\");\n\tresult='';}\n\n}\nelse {\n//无VIP登录，正常直接加载\nresult = java.getString('#content,#acontent@html',result);\n}\n//检查\nif ([9,339].includes(cin)&&Math.abs(inn)<5) gengxin();\nresult\n</js>",
      "imageStyle": "",
      "nextContentUrl": "",
      "payAction": "",
      "replaceRegex": "##八叉书库|八叉~书库|八叉书[,~]库|(?:833330|8xsk)\\.(?:xyz|org)|(?:833330|8xsk|八叉)([^\\.])(?:xyz|yxz|org|书库)|八~叉|书~库##$1",
      "sourceRegex": "",
      "title": ""
    },
    "ruleExplore": {
      "author": "td.2@text||span:contains(作者：)+span@text\n<js>\nif (result == '[email protected]') {\n\tlet hex = java.getString('.__cf_email__.0@data-cfemail');\n\tresult = decodeEmail(String(hex),0);\n\t}\nelse if (baseUrl.includes('/bookcase.php') ) {\n\tjava.put('sj',3); //标识已经同步了书架，\n\t//我的书架无作者信息，延时让提示先显示\n\t\tPackages.java.lang.Thread.sleep(30);\n\tresult='';}\n\tresult\n</js>",
      "bookList": "<js>\nif (baseUrl.startsWith('http://127.0') ) {\n\t\tresult = [];\n}\nelse if (baseUrl.includes('search.php?') ) {\nlet r1 = java.getString('#content .blockcontent@text');\nif (r1.includes(\"错误原因\")) {java.longToast(r1);result = [];}\nelse {result = java.getElement('#jieqi_page_contents>div');}\n\t}\nelse if (baseUrl.includes('/book/') ){\njava.toast('暂不支持重定向结果');\nresult=[];\n\t}\nelse if (baseUrl.includes('/bookcase.php') ) {\n\t//我的书架\n\tlet ts= java.getString('table@caption@ownText');\n\tts=String(ts).replace(/，(.+)\\s*选择分组.*$/,'，\\n$1');\n\tjava.toast('\\n'+ts);\n\tresult = java.getElement('table tr:has(a)');\n\t}\nelse {\nresult = java.getElements('@@#jieqi_page_contents>tr||#content div[class=\"c_row cf\"]');\n}\nresult\n</js>",
      "bookUrl": "<js>\nif (baseUrl.includes('search.php?') ) {\t\n\trs = java.getString('class.c_subject@a.0@href');\n\t} \n\telse if (baseUrl.includes('/bookcase.php') ) {\n\t\t//我的书架需要转化链接\n\t\trs = java.getString('td.1@a.-1@href');\trs='https://8x/book/'+rs.match(/aid=(\\d+)/)[1]+'.html';}\n\telse {\n\trs = java.getString('td.0@a.-1@href||class.c_subject@a.1@href');\n\t}\nnn = String(source.getVariable()).replace(/\\/$/,'');\nif (!nn) {\n\t{{source.loginUrl}}\n\tnn = String(source.getVariable()).replace(/\\/$/,'');\n\t}\nrr = String(rs).replace(/https\\:\\/{2}[A-z\\d\\.]+/, nn);\n\n`data:;base64,${java.base64Encode(rr)},{'type':''}`\n</js>",
      "coverUrl": "<js>\nlet jhf=source.get('8xjhf');\nif (jhf=='1') img=jinghuafm();\nelse {\n\nif (/articlelist|sort/.test(baseUrl)) {\n\timg = java.getString('img@src');\n\t}\nelse if (baseUrl.includes('search.php?') ) {\n\timg = java.getString(String(source.ruleSearch.coverUrl));\n\t}\nelse{\n\tid = java.getString('td.0@a.-1@href').match(/\\d+(?=\\.html)/);\n\nif (baseUrl.includes('/bookcase.php') ) {id = java.getString('td.1@a.-1@href').match(/aid=(\\d+)/)[1];}\n\n  if (id < 1000) n = 0;\n  else n = String(id).slice(0,-3);\nimg = `https://www.8xbook.com/files/article/image/${n}/${id}/${id}s.jpg`;\n}\n\n}\nimg\n</js>",
      "intro": "td.3@text||class.c_description@text\n<js>\nif (baseUrl.includes(\"top/words\")) {'⠀\\n字数：'+(result/10000).toFixed(2)+'万'}\nelse if (baseUrl.includes(\"top/goodnum\")) {'⠀\\n收藏数：'+result}\n//新书榜\nelse if (baseUrl.includes(\"top/newhot\")) {\n\tresult = result>9999 ? \t(result/10000).toFixed(2)+'万' : result;\n\t'⠀\\n点击数：'+result}\nelse if (baseUrl.includes(\"top/signtime\")) {\n  let t = parseInt(result)*1000;\n  let time = java.timeFormatUTC(t,\"⠀\\n签约时间：yy/MM/dd HH:mm:ss\",8*60*60*1000);\n  time}\nelse if (baseUrl.includes(\"top/lastupdate\")) {'⠀\\n字数：'+(result/10000).toFixed(2)+'万'}\nelse if (baseUrl.includes(\"top/postdate\")) {'⠀\\n入库时间：'+result}\nelse if (baseUrl.includes(\"top/allvisit\")) {\n\tresult = result>999 ? \t(result/10000).toFixed(2)+'万' : result;\n\t'⠀\\n总点击：'+result}\nelse if (baseUrl.includes(\"top/monthvisit\")) {\n\tresult = result>999 ? \t(result/10000).toFixed(2)+'万' : result;\n\t'⠀\\n月点击：'+result}\nelse if (baseUrl.includes(\"top/weekvisit\")) {\n\tresult = result>9999 ? \t(result/10000).toFixed(2)+'万' : result;\n\t'⠀\\n周点击：'+result}\nelse if (baseUrl.includes(\"top/allvote\")) {'⠀\\n总推荐：'+result}\nelse if (baseUrl.includes(\"top/monthvote\")) {'⠀\\n月推荐：'+result}\nelse if (baseUrl.includes(\"top/weekvote\")) {'⠀\\n周推荐：'+result}\nelse if (/articlelist|sort|search\\.php/.test(baseUrl)) {\n//含简介(搜索会经此)\nresult.replace('「','“').replace('」','”').replace(/\\s+/g,' ')}\nelse {''}\n</js>",
      "kind": "<js>\nif (baseUrl.includes('search.php?') ) {java.getStringList(String(source.ruleSearch.kind));}\nelse if (baseUrl.includes('/bookcase.php') ) {\n\tjava.getStringList('td.4@text');}\nelse {java.getStringList('td[4,5]@text||span:contains(更新：)+span@text||a486@time');}\n</js>",
      "lastChapter": "<js>\nif (baseUrl.includes('search.php?') ) {\tjava.getString(String(source.ruleSearch.lastChapter));}\nelse if (baseUrl.includes('/bookcase.php') ) {\n\tjava.getString('td.2@a.-1@text');}\n\telse {java.getString('td.1@a.-1@text||class.c_subject@a.-1@text');}\n</js>",
      "name": "<js>\nif (baseUrl.includes('search.php?') ) {\nresult=String(java.getString('.c_subject@text')).replace(/\\\"/g,'');\n//获取id目的\nrs = java.getString('class.c_subject@a.0@href');\n\t}\n\telse {\n\t\tresult =  java.getString('td.0@a.-1@text||class.c_subject@a.1@text||td.1@a.-1@text');\n\t\t//获取id目的\n\t\trs = java.getString('td.0@a.-1@href||class.c_subject@a.1@href');}\n//||td.0@input@value书架的书不处理屏蔽黑名单，正则黑名单会\n\n//获取id，黑名单时书名为空\nlet id = (rs.match(/book\\/(\\d+)/)||['','lyc'])[1];\nlet i = hmdjib(id,result);\nif (i) {result='';}\nresult\n</js>",
      "wordCount": "<js>\nif (/articlelist|sort/.test(baseUrl)) {\n  java.getString('span:contains(字数：)+span@text')\n}\nelse if (baseUrl.includes('search.php?') ) {\tjava.getString(String(source.ruleSearch.wordCount));\n\t}\n</js>"
    },
    "ruleSearch": {
      "author": "span:contains(作者：)+span@text",
      "bookList": "<js>\njava.setContent(cache.get('8xss1') );\ncache.delete('8xss1');\nlet r1 = java.getString('#content .blockcontent@text');\nif (r1.includes(\"错误原因\")) {java.longToast(r1);result=[];}\nelse {\n\tresult = java.getElement('#jieqi_page_contents>div');\n}\nresult\n</js>",
      "bookUrl": "class.c_subject@a.0@href\n<js>\n`data:;base64,${java.base64Encode(result)},{'type':''}`\n</js>",
      "checkKeyWord": "作者：棺材",
      "coverUrl": ".fl img@src\n<js>\nlet jhf=source.get('8xjhf');\nif (jhf=='1') result=jinghuafm();\nresult\n</js>",
      "intro": ".c_description@text\n<js>\nresult.replace('「','“').replace('」','”').replace(/\\s/g,' ')\n</js>",
      "kind": "span:contains(更新：)+span@text&&span:contains(关键字：)+span@text\n<js>\nString(result).replace(/[\\[\\]\\#\\,]/g,'').split(' ');\n</js>",
      "lastChapter": "span:contains(最新章节：)+span@text",
      "name": ".c_subject@text\n<js>\n//获取id，黑名单时书名为空\nlet id = java.getString('class.c_subject@a.0@href');\nid = id.match(/book\\/(\\d+)/)[1];\n//java.log(result); //输出书名\nlet i = hmdjib(id,result);\nif (i) {result='';}\nresult\n</js>",
      "wordCount": "span:contains(字数：)+span@text"
    },
    "ruleToc": {
      "chapterList": "<js>\n//book.save()\nnn = String(source.getVariable()).replace(/\\/$/,'');\nif (nn=='') {\n\t{{source.loginUrl}}\n\tnn = String(source.getVariable()).replace(/\\/$/,'');}\nlet sj=java.get('sj');\nif (sj=='') java.put('sj',1); //书架标识\nlet ww = java.get('ww'),\nlyc = java.get('lyc'),\nsx1 = java.get('sx1'); //ww是否有新章，sx刷新标识从目录来(已在书架才会触发)\njava.put('sx1',0); //还原详情到目录标识\nlet sj2=source.get('8xsj'); //启用同步的标识\nlet bkid=java.get('bkid');\n\nif (sx1!='1') {\n\t let baxtime = cache.getFromMemory('baxtime');\n\t if (baxtime<Date.now()) baxtime=Date.now();\n\t baxtime+=5000;\n\tcache.putMemory('baxtime',baxtime);\n\twhile(Date.now()<baxtime) {\n\tPackages.java.lang.Thread.sleep(5100);}\n\t}\nif (sj!='3'&&sx1!='1'&&sj2=='1'&&bkid!='') {java.put('sj',3);tbshujia(nn,bkid);}\n//不为3未加书架，不为1不过详情，为1开启功能，且参数不为空\n//java.log('🍊'+ww+lyc+sx1+'🍊');\nif (ww!='1' || lyc=='' || sx1!='1') {\nlet tim = Math.floor(Math.random()*1501);\nlet tt = java.hexDecodeToString(result);\ntt=String(tt).replace(/https\\:\\/{2}[A-z\\d\\.]+/,'');\nPackages.java.lang.Thread.sleep(tim);\nconst startTime=new Date().getTime();\nresult = java.ajax(nn+tt);\nconst endTime=new Date().getTime();\nlet speed = (endTime - startTime)/1000;\nif (speed>19) {java.toast('\\n目录页访问延迟：'+speed.toFixed()+'秒');}\n//缩减储存\nresult=java.getString('.index@all',result);\njava.put('lyc',result);\n} else {result=lyc;}\njava.setContent(result);\nresult=java.getElements('.index dd,dt');\n</js>",
      "chapterName": "text##八叉书库|833330\\.xyz|八叉书[。·]库|8xsk?[。·]org|八叉~书库|八~叉书~库",
      "chapterUrl": "a@href\n<js>\n`data:;base64,${java.base64Encode(result)},{'type':''}`;\n</js>",
      "formatJs": "",
      "isPay": "",
      "isVip": "",
      "isVolume": "dt@text",
      "preUpdateJs": "",
      "updateTime": "{{@@dd@a@title##\\d{1,2}\\:\\d{1,2}更新，共(\\d+字).*## $1}}\n{{@@dd@em@text##.+##💎}}"
    },
    "searchUrl": "<js>\neval(String(source.loginUrl));\nnn = String(source.getVariable()).replace(/\\/$/,'');\n//cookie.removeCookie(nn);\nlet url = `${nn}/modules/article/search.php`;\ntry {\n\tif (key.startsWith('书名：') ) {\n\t\turl += `?searchkey=${key.substr(3)}&searchtype=articlename&page=${page}`\n\t\t\tss = java.get(url,{\t'user-agent': ua});\n\t\t}\n\t\t\n\t\telse if (key.startsWith('作者：') ) {\n\t\turl += `?searchkey=${key.substr(3)}&searchtype=author&page=${page}`\n\t\t\tss = java.get(url,{\t'user-agent': ua});\n\t\t}\n\t\t\n\t\telse if (key.startsWith('标签：') ) {\n\t\turl += `?searchkey=${key.substr(3)}&searchtype=keywords&page=${page}`\n\t\t\tss = java.get(url,{\t'user-agent': ua});\n\t\t}\n\t\t\n\t\telse if (page == 1) {\n\t\tftsm();\n\t\tlet body = `searchtype=all&searchkey=${key}&act=search&submit=`;\n\tss = java.post(url,body,{\t'user-agent': ua});\n\tkey='';\n\t}\n\t\n\telse {\n\t\turl +=\t`?searchkey=${key}&searchtype=all&page=${page}`\n\tss = java.get(url,{\t'user-agent': ua});\n\t}\n\ncode = ss.statusCode();\nif (code == 302) {\n\t//重定向\n\tss.header(\"location\");\n\t}\nelse if (code == 200) {\n\tcache.put('8xss1', ss.body() );\n\t`data:;base64,${java.base64Encode(nn)},{'type':''}`;\n\t}\nelse if (code == 520) {\n\tjava.toast(\"💔IP被拉黑\");\n\t}\nelse {\n\tjava.toast(\"💔搜索响应码异常\");\n\t}\n\n\n} catch(err) {\n\tcache.put('8xbl1', source.getVariable() );\n\tsource.setVariable('');\n\turl\n\t}\n\n</js>",
    "variableComment": "♦源变量：\n　 当前书源使用的网址\n　 可点击发现页版本号手动刷新\n\n♦书籍变量：\n　 ①填写  🔒 并刷新，关闭本书评论显示\n　 ②填写“目录”并刷新，强制刷新目录\n　 ③填写分数并刷新，使用分数进行评分\n　 ④填写其它并刷新，内容作为评论发送\n分数格式示意“1分”“2分”…“10分”\n\n㊟详情页检测到有更新内容时才刷新目录(书架刷新不影响)\n\n！注意区分源变量和书籍变量\n",
    "weight": 0
  },
  {
    "bookSourceGroup": "R🐶漫画",
    "bookSourceName": "R 猪猪漫画🐶🏞️",
    "bookSourceType": 2,
    "bookSourceUrl": "https://www.zhuzhumh.com/##RosiaPng",
    "customOrder": 3,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "冒险热血::https://cn.zhuzhumh.com/sort/1-{{page}}.html\n武侠格斗::https://cn.zhuzhumh.com/sort/2-{{page}}.html\n科幻魔幻::https://cn.zhuzhumh.com/sort/3-{{page}}.html\n侦探推理::https://cn.zhuzhumh.com/sort/4-{{page}}.html\n耽美爱情::https://cn.zhuzhumh.com/sort/5-{{page}}.html\n生活漫画::https://cn.zhuzhumh.com/sort/6-{{page}}.html\n完结漫画::https://cn.zhuzhumh.com/sort/12-{{page}}.html\n连载漫画::https://cn.zhuzhumh.com/sort/13-{{page}}.html\n",
    "jsLib": "\n{\n\t\"CryptoJS\":\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js\"\n}",
    "lastUpdateTime": 0,
    "respondTime": 180000,
    "ruleBookInfo": {
      "intro": "//p[@id=\"comic-description\"]/text()",
      "tocUrl": "@js:\nlet n = baseUrl.split('/')[4]\nn=n.replace('.html','')\n\nresult ='https://www.zhuzhumh.com/api/bookchapter?id='+n+'&id2=1'\n"
    },
    "ruleContent": {
      "content": "@js:\nlet r = /eval\\((.*?)\\)\\n/g;\r\nlet str = r.exec(result)[0]\r\neval(str)\n\nimgTags = newImgs.map(a => '<img src=\"' + a + '\">').join(\"\\n\")\n\nimgTags",
      "imageStyle": "FULL"
    },
    "ruleExplore": {
      "bookList": "//div[@class=\"cy_list_mh\"]/ul",
      "bookUrl": "//li[@class=\"title\"]/a/@href",
      "coverUrl": "//img/@src",
      "intro": "//li[@class=\"info\"]/text()",
      "name": "//li[@class=\"title\"]/a/text()"
    },
    "ruleSearch": {
      "bookList": "//div[@class=\"cy_list_mh\"]/ul",
      "bookUrl": "//li[@class=\"title\"]/a/@href",
      "checkKeyWord": "都市",
      "name": "//li[@class=\"title\"]/a/@title"
    },
    "ruleToc": {
      "chapterList": "$[*]\n@js:\n// Assuming 'result' is an array\nvar reversedResult = [];\nfor (var i = result.length - 1; i >= 0; i--) {\n    reversedResult.push(result[i]);\n}\nresult = reversedResult;",
      "chapterName": "$.chaptername",
      "chapterUrl": "$.chapterurl"
    },
    "searchUrl": "https://www.zhuzhumh.com/search.html?keyword={{key}}",
    "weight": 60
  },
  {
    "bookSourceComment": "//Powered by RosiaPng小猫咪\n\nfunction decrypt(a, b, c) {\n    // Ensure key and IV are 16 bytes\n    b = CryptoJS.enc.Utf8.parse(b.padStart(16, '0')); \n    c = CryptoJS.enc.Utf8.parse(c.padStart(16, '0')); \n\n    // Perform decryption\n    let decrypted = CryptoJS.AES.decrypt(a, b, { \n        iv: c, \n        padding: CryptoJS.pad.Pkcs7 \n    });\n\n    return decrypted.toString(CryptoJS.enc.Utf8);\n}\n",
    "bookSourceGroup": "R🐶",
    "bookSourceName": "R 台湾小说网🐶",
    "bookSourceType": 0,
    "bookSourceUrl": "https://twkan.com##RosiaPng",
    "customOrder": 6,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[{\"title\":\"全部分類\",\"url\":\"https://twkan.com/novels/class/0_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},\n{\"title\":\"玄幻奇幻\",\"url\":\"https://twkan.com/novels/class/1_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},\n{\"title\":\"武俠仙俠\",\"url\":\"https://twkan.com/novels/class/2_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},\n{\"title\":\"現代都市\",\"url\":\"https://twkan.com/novels/class/3_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},\n{\"title\":\"歷史軍事\",\"url\":\"https://twkan.com/novels/class/4_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},\n{\"title\":\"科幻小說\",\"url\":\"https://twkan.com/novels/class/5_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},\n{\"title\":\"遊戲競技\",\"url\":\"https://twkan.com/novels/class/6_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},\n{\"title\":\"恐怖靈異\",\"url\":\"https://twkan.com/novels/class/7_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},\n{\"title\":\"言情小說\",\"url\":\"https://twkan.com/novels/class/8_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},\n{\"title\":\"動漫同人\",\"url\":\"https://twkan.com/novels/class/9_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}},\n{\"title\":\"其他類型\",\"url\":\"https://twkan.com/novels/class/10_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.25,\"layout_flexGrow\":1}}]",
    "jsLib": "{\n\t\"CryptoJS\":\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js\"\n}",
    "lastUpdateTime": 1739107525105,
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "//meta[@property=\"og:novel:author\"]/@content",
      "coverUrl": "//meta[@property=\"og:image\"]/@content",
      "intro": "//meta[@property=\"og:description\"]/@content",
      "lastChapter": "//meta[@property=\"og:novel:latest_chapter_name\"]/@content",
      "tocUrl": "@js:\nid = baseUrl.match(/\\d+/g)[0]\nresult =`https://twkan.com/ajax_novels/chapterlist/${id}.html`"
    },
    "ruleContent": {
      "content": "<js>\neval(String(source.bookSourceComment))\n\nfunction processHtml(html) {\n    const regex1 = /<div id=\"txtcontent\">([\\s\\S]*?)<div class=\"txtcenter\">/;\n    const match = html.match(regex1);\n\n    // Ensure match is found\n    if (!match) {\n        console.error(\"Error: Could not find <div id='txtcontent'> section.\");\n        return html; // Return original HTML if extraction fails\n    }\n\n    let content = match[1];\n\n    const decryptRegex = /decrypt\\(\"(.+?)\",\"(.+?)\",\"(.+?)\",\"(.+?)\"\\)/g;\n    let matches;\n    let decryptedResults = [];\n\n    // Step 1: Extract and decrypt encrypted text\n    while ((matches = decryptRegex.exec(content)) !== null) {\n        let [_, encryptedText, key, iv, id] = matches;\n        let decryptedText = decrypt(encryptedText, key, iv);\n        decryptedResults.push({ id, decryptedText });\n\n        // Replace script tag with a placeholder\n        content = content.replace(matches[0], `|||DECRYPTED_${id}|||`);\n    }\n\n   // Step 2: Insert decrypted content back (cleaning up unnecessary characters)\ndecryptedResults.forEach(({ id, decryptedText }) => {\n    // Remove `;<br />` and trim whitespace\n    decryptedText = decryptedText.replace(/;<br\\s*\\/?>/g, '').trim();\n\n    content = content.replace(\n        `|||DECRYPTED_${id}|||`, \n        `<br /><strong>解密內容:</strong> ${decryptedText}<br />`\n    );\n});\n\n// Step 3: Remove <script> tags and ensure clean output\nconst final = content.replace(/<script.*?>/g, '').replace(/<\\/script>/g, '');\n\n    // Step 4: Wrap content back inside the original div\n    const f = `<div id=\"txtcontent\">${final}</div>`;\n\n    return f; // Return the modified HTML\n}\n\n\nconst last = processHtml(result)\n\nlast\n\n\n\n</js>\n\n//div[@id=\"txtcontent\"]/text()\n@js:\nresult=java.t2s(result)\nresult= result.replace(';','')"
    },
    "ruleExplore": {
      "bookList": "//ul[@id=\"article_list_content\"]/li",
      "bookUrl": "//h3/a/@href",
      "coverUrl": "//img/@data-src",
      "intro": "//ol[@class=\"ellipsis_2\"]/text()\n<js>java.t2s(result)</js>",
      "lastChapter": "//div[@class=\"zxzj\"]/p/a/text()\n<js>java.t2s(result)</js>",
      "name": "//img/@alt\n<js>java.t2s(result)</js>"
    },
    "ruleSearch": {
      "bookList": "<js>\nfunction processResult(result) {\n    if (result.indexOf(\"搜索關鍵詞\") !== -1) {\n        // If the result contains the keyword, return the result as it is\n        return result;\n    } else {\n        // Make sure to declare html properly\n        var html = result;\n\n        // Extract metadata fields using regex\n        var titleMatch = html.match(/<meta property=\"og:novel:book_name\" content=\"(.*?)\">/);\n        var title = titleMatch ? titleMatch[1] : \"Unknown Title\";\n        \n        var descriptionMatch = html.match(/<meta property=\"og:description\" content=\"([\\s\\S]*?)\">/);\n        var description = descriptionMatch ? descriptionMatch[1].replace(/<br\\s*\\/?>/g, \" \") : \"No description available\";\n        \n        var linkMatch = html.match(/<meta property=\"og:url\" content=\"(.*?)\">/);\n        var link = linkMatch ? linkMatch[1] : \"#\";\n        \n        var coverMatch = html.match(/<meta property=\"og:image\" content=\"(.*?)\">/);\n        var cover = coverMatch ? coverMatch[1] : \"https://twkan.com/modules/article/images/nocover.jpg\";\n        \n        var authorMatch = html.match(/<meta property=\"og:novel:author\" content=\"(.*?)\">/);\n        var author = authorMatch ? authorMatch[1] : \"Unknown Author\";\n\n        // Construct HTML output using string concatenation\n        var newHtml = '<ul id=\"article_list_content\">' +\n                      '<li>' +\n                          '<a href=\"' + link + '\">' +\n                              '<img data-src=\"' + cover + '\" alt=\"' + title + '\">' +\n                          '</a>' +\n                          '<div>' +\n                              '<h3><a href=\"' + link + '\">' + title + '</a></h3>' +\n                              '<div class=\"labelbox\"><label>' + author + '</label></div>' +\n                              '<ol class=\"ellipsis_2\">' + description + '</ol>' +\n                          '</div>' +\n                      '</li>' +\n                  '</ul>';\n\n        // Return the new formatted HTML\n        return newHtml;\n    }\n}\n\n// Call the function with your `result` variable\nvar resultHtml = processResult(result);\n\nresultHtml\n\n\n</js>\n\n\n//ul[@id=\"article_list_content\"]/li",
      "bookUrl": "//h3/a/@href",
      "checkKeyWord": "我的建设",
      "coverUrl": "//img/@data-src",
      "intro": "//ol[@class=\"ellipsis_2\"]/text()\n<js>java.t2s(result)</js>",
      "lastChapter": "//div[@class=\"zxzj\"]/p/a/text()\n<js>java.t2s(result)</js>",
      "name": "//img/@alt\n<js>java.t2s(result)</js>"
    },
    "ruleToc": {
      "chapterList": "//li",
      "chapterName": "//a/text()\n<js>java.t2s(result)</js>",
      "chapterUrl": "//a/@href"
    },
    "searchUrl": "https://twkan.com/search/{{key}}/1.html",
    "weight": 60
  },
  {
    "bookSourceComment": "//Powered by RosiaP'ng\n\n\nfunction decoderosiapng(dd) {\n  // Step 1: Decode the input data\n  let decodedData = CryptoJS.enc.Base64.parse(dd).toString(CryptoJS.enc.Utf8);;\n\n  // Step 2: Calculate the offset and determine the start and end positions\n  let offset = Number(decodedData.slice(8, 11));\n  let start = offset + 11;\n  let end = decodedData.length - offset;\n\n  // Step 3: Check if start is less than end, to avoid invalid slicing\n  if (start < end) {\n    // Step 4: Process the data by replacing characters\n    let processedData = decodedData\n      .slice(start, end)\n      .replace(/_/g, \"8L3A+\")\n      .replace(/-/g, \"PHA+\");\n\n    // Step 5: Decode the processed data\n    return CryptoJS.enc.Base64.parse(processedData).toString(CryptoJS.enc.Utf8);;\n  }\n\n  // If the condition is not met, return null or handle it as needed\n  return null;\n}\n",
    "bookSourceGroup": "R🐶",
    "bookSourceName": "R 新键盘小说网🐶",
    "bookSourceType": 0,
    "bookSourceUrl": "http://www.xinjianpan.com##RosiaPng",
    "customOrder": 10,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "玄幻::/sort/xuanhuan-{{page}}.html\n仙侠::/sort/xianxia-{{page}}.html\n都市::/sort/dushi-{{page}}.html\n历史::/sort/lishi-{{page}}.html\n网游::/sort/wangyou-{{page}}.html\n科幻::/sort/kehuan-{{page}}.html\n灵异::/sort/lingyi-{{page}}.html\n言情::/sort/yanqing-{{page}}.html\n其他::/sort/qita-{{page}}.html",
    "jsLib": "\n{\n\t\"CryptoJS\":\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js\"\n}",
    "lastUpdateTime": 1738793170995,
    "respondTime": 180000,
    "ruleBookInfo": {
      "tocUrl": "//div[@class=\"bookbtn\"]/a[contains(.,\"章节目录\")]/@href"
    },
    "ruleContent": {
      "content": "<js>\neval(String(source.bookSourceComment))\nlet regex = /var c=\"([^\"]*)\"/;\nlet dd = result.match(regex)[1]\n\nbelow =decoderosiapng(dd)\n\nvar regex1 = /<div class=\"content\" id=\"chaptercontent\">([\\s\\S]*?)<script>/; // Match up to the <script> tag\nvar top = result.match(regex1)[1]\n\nresult = top + below\n</js>\n//p/text()\n\n\n",
      "nextContentUrl": "@js:\nvar regex2 = /const next_page = \"(\\/[^\"]+)\"/; // Matches the value inside quotes for next_page\nvar n = result.match(regex2)[1]\n\n if (n.includes('_')) {\n    result = 'http://www.xinjianpan.com' + n\n  } "
    },
    "ruleExplore": {},
    "ruleSearch": {
      "author": "//dd[2]/a/text()",
      "bookList": "//div[@class=\"content pc-pl pc-pr\"]/dl",
      "bookUrl": "//dt/a/@href",
      "checkKeyWord": "我用游戏",
      "coverUrl": "//img/@data-src",
      "intro": "//dd[1]/text()",
      "name": "//dt/a/text()"
    },
    "ruleToc": {
      "chapterList": "//div[@class=\"all\"]/ul/li",
      "chapterName": "//a/text()",
      "chapterUrl": "//a/@onclick\n<js>\n\nvar uu = result.split(\"='\")[1].replace(\"'\",\"\")\nresult = 'http://www.xinjianpan.com' + uu\n\n</js>",
      "nextTocUrl": "option!0@value"
    },
    "searchUrl": "http://www.xinjianpan.com/search/?searchkey={{key}}",
    "weight": 60
  },
  {
    "bookSourceGroup": "R🐶",
    "bookSourceName": "R 可乐小说🐶",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.kelexs.com##🐶",
    "customOrder": 11,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "玄幻::/list-4-{{page}}/\n奇幻::/list-5-{{page}}/\n武侠::/list-6-{{page}}/\n仙侠::/list-7-{{page}}/\n都市::/list-8-{{page}}/\n军事::/list-9-{{page}}/\n历史::/list-10-{{page}}/\n游戏::/list-11-{{page}}/\n体育::/list-12-{{page}}/\n科幻::/list-13-{{page}}/\n诸天::/list-14-{{page}}/",
    "lastUpdateTime": 0,
    "respondTime": 180000,
    "ruleBookInfo": {
      "tocUrl": "//div[@class='dropDown']/ul/li[last()]/@data-p\n@js:\njava.put('max',result)"
    },
    "ruleContent": {
      "content": "//div[@class=\"content\"]/p/text()"
    },
    "ruleExplore": {},
    "ruleSearch": {
      "author": "//dl[@class=\"dlS\"][1]/dd/a/text()",
      "bookList": "//div[@class=\"list dList\"]/ul/li",
      "bookUrl": "//div[@class=\"name font18\"]/a/@href",
      "checkKeyWord": "闪婚",
      "coverUrl": "//img/@src",
      "intro": "//div[@class=\"intro\"]/text()",
      "lastChapter": "//dl[3]/dd/a/text()",
      "name": "//div[@class=\"name font18\"]/a/text()"
    },
    "ruleToc": {
      "chapterList": "$.data[*]",
      "chapterName": "$.chaptername",
      "chapterUrl": "$.chapterurl",
      "nextTocUrl": "@js:\nmaxPage=java.get('max')\n\nid = baseUrl.split('/')[4].replace('.html','')\n\nurls = [];\nurl = baseUrl.split('&')[0]\nfor (i = 1; i <= maxPage; i++){\n      let href = `https://www.kelexs.com/index.php?action=loadChapterPage,{\"body\":\"id=${id}&page=${i}\",\"method\":\"POST\"}`;\n      urls.push(href);\n    }\nurls"
    },
    "searchUrl": "https://www.rrssk.com/keywords-{{key}}-{{page}}.html",
    "weight": 60
  },
  {
    "bookSourceComment": "By Rosia Png",
    "bookSourceGroup": "R🐶",
    "bookSourceName": "R 微风小说🐶🛡️",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.wfxs.tw/",
    "customOrder": 14,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[{\"title\":\"豪門\",\"url\":\"/haomenzongcai/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"靈異\",\"url\":\"/xuanyilingyi/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"青春\",\"url\":\"/langmanqingchun/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"玄幻\",\"url\":\"/xianxiaxuanhuan/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"架空\",\"url\":\"/chuanyuejiakong/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"異能\",\"url\":\"/dushiyineng/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"都市\",\"url\":\"/dushiyanqing/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"類型\",\"url\":\"/qita/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"現代\",\"url\":\"/xianyan/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"古代 \",\"url\":\"/guyan/{{page}}/\",\"style\":{\"layout_flexBasisPercent\":0.25}}]",
    "header": "{\n\t\"User-Agent\": \"Mozilla/5.0 (iPhone; CPU iPhone OS 18_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148\"\n}",
    "jsLib": "",
    "lastUpdateTime": 0,
    "respondTime": 180000,
    "ruleBookInfo": {
      "intro": "//div[@id=\"bookintro\"]/p/text()\n<js>java.t2s(result)</js>",
      "tocUrl": "//div[@class=\"motion\"]//a[contains(@title,'開始閱讀')]/@href"
    },
    "ruleContent": {
      "content": "//div[@class=\"content\"]/p/text() |//div[@class=\"content\"]/text()\n<js>java.t2s(result)</js>",
      "nextContentUrl": "//div[@class=\"warp my-5 foot-nav\"]/a[contains(text(),'下一章')][contains(@href,'html')]/@href"
    },
    "ruleExplore": {
      "author": "//li[@class=\"four\"]/text()\n<js>java.t2s(result)</js>",
      "bookList": "//div[@class=\"shulist\"]/ul",
      "bookUrl": "//li[@class=\"three\"]/a/@href",
      "coverUrl": "//li[@class=\"three\"]/a/@href\n@js:\nlet id = result.match(/(\\d+)/)[1]\nlet bid = id.slice(0,-3)\nresult = 'https://img.wfxs.tw/'+ bid +'/'+ id +'/'+ id +'s.jpg'",
      "intro": "",
      "lastChapter": "//span[@class=\"gray\"]/a/text()\n<js>java.t2s(result)</js>",
      "name": "//li[@class=\"three\"]/a/text()\n<js>java.t2s(result)</js>"
    },
    "ruleSearch": {
      "author": "//dd[2]/span[1]/text()\n<js>java.t2s(result)</js>",
      "bookList": "@js:\n\n// Define XPath for element extraction\nconst path = '//*[@id=\"sitembox\"]/dl';\n\nu=java.get('url');\n// Attempt to fetch elements using initial response\nlet c = java.getElement(path);  // First attempt to get elements\n\n// Always clear cookies before initiating verification\ncookie.removeCookie(source.getKey());\n\n// Check for \"搜索关键词\" to decide bypass behavior\nif (result.includes(\"搜索结果\")) {\n  // Directly use the XPath extraction without browser verification\n  c = java.getElement(path);  // Skip browser verification\n} else {\n  // Display a toast message to indicate bypass attempt\n  java.longToast(\"过盾\");  // Display toast message\n  \n  // Use startBrowserAwait to perform browser-based verification\n  const response = java.startBrowserAwait(u, \"验证\").body();\n  \n  // Set the content from the new response to allow further processing\n  java.setContent(response);\n  \n  // Reattempt to fetch elements after verification\n  c = java.getElement(path);  // Second attempt after setting new content\n}",
      "bookUrl": "//h3/a/@href",
      "coverUrl": "//dt/a/img/@_src",
      "intro": "//dd[3]/text()\n<js>java.t2s(result)</js>",
      "lastChapter": "//dd[4]/a/text()\n<js>java.t2s(result)</js>",
      "name": "//h3/a/text()\n<js>java.t2s(result)</js>"
    },
    "ruleToc": {
      "chapterList": "//*[@id=\"readerlists\"]/ul/li",
      "chapterName": "//a/@title\n<js>java.t2s(result)</js>",
      "chapterUrl": "//a/@href"
    },
    "searchUrl": "@js:\nvar headers = JSON.parse(source.header);\nvar option = { \n\t\"headers\": headers\n\t};\nurl=`https://www.wfxs.tw/s.html?s=${key}&type=articlename,`+JSON.stringify(option);\njava.put('url',url)",
    "weight": 60
  },
  {
    "bookSourceComment": "只有源发现",
    "bookSourceGroup": "R🐶",
    "bookSourceName": "R 我的书城网🐶",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.qushucheng.com/",
    "customOrder": 15,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[{\"title\":\"玄幻\",\"url\":\"/fenlei/1/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"奇幻\",\"url\":\"/fenlei/2/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"武侠\",\"url\":\"/fenlei/3/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"仙侠\",\"url\":\"/fenlei/4/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"都市\",\"url\":\"/fenlei/5/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"军事\",\"url\":\"/fenlei/6/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"历史\",\"url\":\"/fenlei/7/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"游戏\",\"url\":\"/fenlei/8/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"竞技\",\"url\":\"/fenlei/9/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"科幻\",\"url\":\"/fenlei/10/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"悬疑\",\"url\":\"/fenlei/11/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"灵异\",\"url\":\"/fenlei/12/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"其他\",\"url\":\"/fenlei/13/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"古代\",\"url\":\"/fenlei/14/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"仙侠\",\"url\":\"/fenlei/15/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"现代\",\"url\":\"/fenlei/16/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"浪漫\",\"url\":\"/fenlei/17/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"玄幻\",\"url\":\"/fenlei/18/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"悬疑\",\"url\":\"/fenlei/19/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"科幻\",\"url\":\"/fenlei/20/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"游戏\",\"url\":\"/fenlei/21/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"BL\",\"url\":\"/fenlei/22/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"GL\",\"url\":\"/fenlei/23/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"二次\",\"url\":\"/fenlei/24/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.25}}]",
    "lastUpdateTime": 0,
    "respondTime": 180000,
    "ruleBookInfo": {
      "intro": "//div[@class=\"desc xs-hidden\"]/text()"
    },
    "ruleContent": {
      "content": "//div[@class=\"content\"]/p/text()",
      "nextContentUrl": "//div[@class=\"section-opt m-bottom-opt\"]//a[contains(text(),'下一页')]/@href"
    },
    "ruleExplore": {
      "author": "//span[@class=\"s4\"]/text()",
      "bookList": "//ul[@class=\"txt-list txt-list-row5\"]/li",
      "bookUrl": "//span[@class=\"s2\"]/a/@href",
      "coverUrl": "//span[@class=\"s2\"]/a/@href\n@js:\nconst cleanPath = result.replace(/^\\/|\\/$/g, \"\");\n    \n    // Extract the book ID\n    const bookId = cleanPath.split(\"_\")[1];\n    \n    // Extract the first five digits for the folder\n    const folder = bookId.slice(0, 5);\n    \n    // Construct the new URL\n    result = `http://www.qushucheng.com/images/${folder}/${bookId}/${bookId}s.jpg`;",
      "lastChapter": "//span[@class=\"s3\"]/a/text()",
      "name": "//span[@class=\"s2\"]/a/text()"
    },
    "ruleSearch": {},
    "ruleToc": {
      "chapterList": "//div[@class=\"section-box\"][2]/ul/li",
      "chapterName": "//a/text()",
      "chapterUrl": "//a/@href",
      "nextTocUrl": "//div[@class=\"index-container\"][1]//a[contains(text(),'下一页')]/@href"
    },
    "weight": 60
  },
  {
    "bookSourceGroup": "R🐶",
    "bookSourceName": "R 28看书网🐶🛡️",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.28lu.net/",
    "customOrder": 19,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[{\"title\":\"玄幻\",\"url\":\"/fenlei/1/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"奇幻\",\"url\":\"/fenlei/2/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"武侠\",\"url\":\"/fenlei/3/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"仙侠\",\"url\":\"/fenlei/4/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"都市\",\"url\":\"/fenlei/5/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"军事\",\"url\":\"/fenlei/6/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"历史\",\"url\":\"/fenlei/7/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"游戏\",\"url\":\"/fenlei/8/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"竞技\",\"url\":\"/fenlei/9/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"科幻\",\"url\":\"/fenlei/10/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"悬疑\",\"url\":\"/fenlei/1{{page}}{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"灵异\",\"url\":\"/fenlei/12/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"其他\",\"url\":\"/fenlei/13/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"古代\",\"url\":\"/fenlei/14/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"仙侠\",\"url\":\"/fenlei/15/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"现代\",\"url\":\"/fenlei/16/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"浪漫\",\"url\":\"/fenlei/17/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"玄幻\",\"url\":\"/fenlei/18/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"悬疑\",\"url\":\"/fenlei/19/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"科幻\",\"url\":\"/fenlei/20/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"游戏\",\"url\":\"/fenlei/2{{page}}{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"BL\",\"url\":\"/fenlei/22/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"GL\",\"url\":\"/fenlei/23/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"二次\",\"url\":\"/fenlei/24/{{page}}\",\"style\":{\"layout_flexBasisPercent\":0.2}}]",
    "header": "{\n\t\"User-Agent\": \"Mozilla/5.0 (iPhone; CPU iPhone OS 18_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148\"\n}",
    "lastUpdateTime": 0,
    "respondTime": 180000,
    "ruleBookInfo": {},
    "ruleContent": {
      "content": "//div[@class=\"book-read-content\"]/p/text()",
      "nextContentUrl": "//div[@class=\"am-btn-group book-read-page\"][1]//a[contains(text(),'下一页')]/@href"
    },
    "ruleExplore": {
      "author": "//p[@class=\"book-list-1-author\"]/text()",
      "bookList": "//div[@class=\"am-u-sm-12 am-u-md-6 am-u-lg-4 book-list-1\"]",
      "bookUrl": "//h4/a/@href\n@js:\nresult = result.replace('xiaoshuo','book')",
      "coverUrl": "//img/@data-src",
      "intro": "//p[@class=\"book-list-1-intro\"]/text()",
      "name": "//h4/a/text()"
    },
    "ruleSearch": {
      "author": "//span/text()",
      "bookList": "@js:\n\n// Define XPath for element extraction\nconst path = '//div[@class=\"item\"]';\n\nu=java.get('url');\n// Attempt to fetch elements using initial response\nlet c = java.getElement(path);  // First attempt to get elements\n\n// Always clear cookies before initiating verification\ncookie.removeCookie(source.getKey());\n\n// Check for \"搜索关键词\" to decide bypass behavior\nif (result.includes(\"相关的小说\")) {\n  // Directly use the XPath extraction without browser verification\n  c = java.getElement(path);  // Skip browser verification\n} else {\n  // Display a toast message to indicate bypass attempt\n  java.longToast(\"过盾\");  // Display toast message\n  \n  // Use startBrowserAwait to perform browser-based verification\n  const response = java.startBrowserAwait(u, \"验证\").body();\n  \n  // Set the content from the new response to allow further processing\n  java.setContent(response);\n  \n  // Reattempt to fetch elements after verification\n  c = java.getElement(path);  // Second attempt after setting new content\n}",
      "bookUrl": "//dt/a/@href\n@js:\nresult = result.replace('xiaoshuo','book')",
      "checkKeyWord": "闪婚",
      "intro": "//dd/text()",
      "name": "//dt/a/text()"
    },
    "ruleToc": {
      "chapterList": "//ul[@class=\"am-avg-sm-1 am-avg-md-2 am-avg-lg-4 am-list\"]/li",
      "chapterName": "//a/text()",
      "chapterUrl": "//a/@href",
      "nextTocUrl": "//div[@class=\"index-container\"][1]//a[contains(text(),'下一页')]/@href"
    },
    "searchUrl": "@js:\nvar headers = JSON.parse(source.header);\nvar option = { \n\t\"headers\": headers\n\t};\nurl=`https://www.sososhu.com/?site=28lu&q=${key},`+JSON.stringify(option);\njava.put('url',url)",
    "weight": 60
  },
  {
    "bookSourceGroup": "R🐶",
    "bookSourceName": "R 西瓜小说网🐶",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.pdske.com/",
    "customOrder": 20,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[{\"title\":\"职业商战\",\"url\":\"/class/1/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"军旅生涯\",\"url\":\"/class/2/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"恐怖悬疑\",\"url\":\"/class/3/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"探险异闻\",\"url\":\"/class/4/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"变身情缘\",\"url\":\"/class/5/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"国术武技\",\"url\":\"/class/6/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"菁菁校园\",\"url\":\"/class/7/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"人文社科\",\"url\":\"/class/8/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}}]",
    "lastUpdateTime": 0,
    "respondTime": 180000,
    "ruleContent": {
      "content": "//div[@id=\"TextContent\"]/p/text()"
    },
    "ruleExplore": {
      "author": "//div[@class=\"author\"][1]/a/text()",
      "bookList": "//div[@class=\"bookbox\"]",
      "bookUrl": "//h4/a/@href",
      "coverUrl": "//img/@data-original",
      "intro": "//div[@class=\"update\"]/text()",
      "lastChapter": "//div[@class=\"cat\"]/a/text()",
      "name": "//h4/a/text()"
    },
    "ruleSearch": {
      "author": "//div[@class=\"author\"][1]/a/text()",
      "bookList": "//div[@class=\"bookbox\"]",
      "bookUrl": "//h4/a/@href",
      "checkKeyWord": "闪婚",
      "coverUrl": "//img/@data-original",
      "intro": "//div[@class=\"update\"]/text()",
      "lastChapter": "//div[@class=\"cat\"]/a/text()",
      "name": "//h4/a/text()"
    },
    "ruleToc": {
      "chapterList": "//dd[@id=\"chapter\"]",
      "chapterName": "//a/text()",
      "chapterUrl": "//a/@href"
    },
    "searchUrl": "https://www.pdske.com/search.php?searchkey={{key}}&action=login&submit=",
    "weight": 60
  },
  {
    "bookSourceGroup": "R🐶",
    "bookSourceName": "R UU看书🐶",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.uukanshu.info/##RosiaPng",
    "customOrder": 22,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[{\"title\":\"玄幻\",\"url\":\"/sort/1/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"仙俠\",\"url\":\"/sort/2/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"都市\",\"url\":\"/sort/3/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"歷史\",\"url\":\"/sort/4/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"遊戲\",\"url\":\"/sort/5/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"科幻\",\"url\":\"/sort/6/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}},\n{\"title\":\"書庫\",\"url\":\"/sort/all/{{page}}.html\",\"style\":{\"layout_flexGrow\":1,\"layout_flexBasisPercent\":0.25}}]",
    "lastUpdateTime": 0,
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "//meta[@property=\"og:novel:author\"]/@content\n<js>java.t2s(result)</js>",
      "tocUrl": "@js:\nid = baseUrl.match(/\\d+/g)\n\n\nresult = `https://www.uukanshu.info/uuindex${id}/1.html/`"
    },
    "ruleContent": {
      "content": "//div[@id=\"TextContent\"]/p/text()\n<js>java.t2s(result)</js>"
    },
    "ruleExplore": {
      "bookList": "//div[@id=\"sitebox\"]/dl",
      "bookUrl": "//h3/a/@href",
      "coverUrl": "//img/@data-original",
      "intro": "//dd[@class=\"book_des\"]/text()\n<js>java.t2s(result)</js>",
      "kind": "//dd[@class=\"book_other\"]/span[1]/text()\n<js>java.t2s(result)</js>",
      "name": "//h3/a/text()\n<js>java.t2s(result)</js>"
    },
    "ruleSearch": {
      "author": "//dd[@class=\"book_other\"]/span[1]/text()\n<js>java.t2s(result)</js>",
      "bookList": "//dl[@id=\"nr\"]",
      "bookUrl": "//h3/a/@href",
      "coverUrl": "//img/@data-original",
      "intro": "//dd[@class=\"book_des\"]/text()\n<js>java.t2s(result)</js>",
      "lastChapter": "//dd[@class=\"book_other\"]/a/text()\n<js>java.t2s(result)</js>",
      "name": "//h3/a/text()\n<js>java.t2s(result)</js>"
    },
    "ruleToc": {
      "chapterList": "//ul[@id=\"chapterList\"]/li",
      "chapterName": "//a/text()\n<js>java.t2s(result)</js>",
      "chapterUrl": "//a/@href",
      "nextTocUrl": "//span[@class=\"right\"]/a[text()='下一頁']/@href"
    },
    "searchUrl": "@js:\ncookie.removeCookie(source.getKey());\nvar body = \"searchkey=\"+key\nvar option = { \n\t\"method\": \"POST\",\n\t\"body\": body\n\t};\nurl=\"https://www.uukanshu.info/search,\"+JSON.stringify(option);",
    "weight": 60
  },
  {
    "bookSourceGroup": "R🐶",
    "bookSourceName": "R 星星小说网🐶",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.xingxingxsw.com/##RosiaPng",
    "customOrder": 24,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[{\"title\":\"穿越重生\",\"url\":\"https://m.xingxingxsw.com/fenlei/1_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.2,\"layout_flexGrow\":1}},\n{\"title\":\"仙侠奇缘\",\"url\":\"https://m.xingxingxsw.com/fenlei/2_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.2,\"layout_flexGrow\":1}},\n{\"title\":\"浪漫青春\",\"url\":\"https://m.xingxingxsw.com/fenlei/3_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.2,\"layout_flexGrow\":1}},\n{\"title\":\"架空历史\",\"url\":\"https://m.xingxingxsw.com/fenlei/4_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.2,\"layout_flexGrow\":1}},\n{\"title\":\"游戏竞技\",\"url\":\"https://m.xingxingxsw.com/fenlei/5_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.2,\"layout_flexGrow\":1}},\n{\"title\":\"科幻空间\",\"url\":\"https://m.xingxingxsw.com/fenlei/6_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.2,\"layout_flexGrow\":1}},\n{\"title\":\"悬疑推理\",\"url\":\"https://m.xingxingxsw.com/fenlei/7_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.2,\"layout_flexGrow\":1}},\n{\"title\":\"综合其他\",\"url\":\"https://m.xingxingxsw.com/fenlei/8_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.2,\"layout_flexGrow\":1}},\n{\"title\":\"其他小说\",\"url\":\"https://m.xingxingxsw.com/fenlei/8_{{page}}.html\",\"style\":{\"layout_flexBasisPercent\":0.2,\"layout_flexGrow\":1}}]",
    "lastUpdateTime": 0,
    "respondTime": 180000,
    "ruleBookInfo": {
      "tocUrl": "@js:\nresult= baseUrl.replace('.html','/').replace('m.','www.')"
    },
    "ruleContent": {
      "content": "//div[@id=\"txt\"]/p/text()"
    },
    "ruleExplore": {
      "author": "//p[@class=\"info\"]/span/text()",
      "bookList": "//div[@class=\"book-list\"]/ul[@class=\"clearfix\"]/li",
      "bookUrl": "//a/@href",
      "coverUrl": "//img/@data-original",
      "intro": "//p[@class=\"intro\"]/text()",
      "name": "//a/text()"
    },
    "ruleSearch": {
      "author": "//span[@class=\"s2\"]/text()",
      "bookList": "//div[@class=\"leftBox left\"]/ul/li",
      "bookUrl": "//h1/a/@href",
      "checkKeyWord": "闪婚",
      "coverUrl": "//img/@data-original",
      "intro": "//div[@class=\"c\"]/text()",
      "name": "//h1/a/text()"
    },
    "ruleToc": {
      "chapterList": "//ul[@id=\"newlist\"]/dd",
      "chapterName": "//a/text()",
      "chapterUrl": "//a/@href\n@js:\nresult = baseUrl + result"
    },
    "searchUrl": "https://www.xingxingxsw.com/search.php?key={{key}}",
    "weight": 60
  },
  {
    "bookSourceGroup": "R🐶",
    "bookSourceName": "R 69书吧🐶🛡️\n",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.69yuedu.net/",
    "customOrder": 27,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[{\"title\":\"言情小说\",\"url\":\"/articlelist/class/3.html\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"玄幻魔法\",\"url\":\"/articlelist/class/1.html\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"修真武侠\",\"url\":\"/articlelist/class/2.html\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"穿越时空\",\"url\":\"/articlelist/class/11.html\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"都市小说\",\"url\":\"/articlelist/class/9.html\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"历史军事\",\"url\":\"/articlelist/class/4.html\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"游戏竞技\",\"url\":\"/articlelist/class/5.html\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"科幻空间\",\"url\":\"/articlelist/class/6.html\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"悬疑惊悚\",\"url\":\"/articlelist/class/7.html\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"同人小说\",\"url\":\"/articlelist/class/8.html\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"官场职场\",\"url\":\"/articlelist/class/10.html\",\"style\":{\"layout_flexBasisPercent\":0.2}},\n{\"title\":\"青春校园\",\"url\":\"/articlelist/class/12.html\",\"style\":{\"layout_flexBasisPercent\":0.2}}]",
    "header": "{\n\t\"User-Agent\": \"Mozilla/5.0 (iPhone; CPU iPhone OS 18_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148\"\n}",
    "lastUpdateTime": 0,
    "respondTime": 180000,
    "ruleBookInfo": {
      "tocUrl": "//div[@class=\"addbtn\"]/a[1]/@href"
    },
    "ruleContent": {
      "content": "//p/text()"
    },
    "ruleExplore": {
      "author": "//div[@class='newnav']/div[@class='labelbox']/label[1]/text()",
      "bookList": "//ul[@id=\"article_list_content\"]/li",
      "bookUrl": "//div[@class='newnav']/h3/a/@href",
      "intro": "//div[@class='newnav']/ol[@class='ellipsis_2']/text()",
      "name": "//div[@class='newnav']/h3/a/text()"
    },
    "ruleSearch": {
      "author": "//div[@class='labelbox']/label[1]/text()",
      "bookList": "@js:\n// Define XPath for element extraction\nconst path = '//div[@class=\"newbox\"]/ul/li';\n\nu = java.get('url');\n// Attempt to fetch elements using initial response\nlet c = java.getElement(path);  // First attempt to get elements\n\n// Always clear cookies before initiating verification\ncookie.removeCookie(source.getKey());\n\n// Check for \"搜索关键词\" to decide bypass behavior\nif (result.includes(\"搜索结果\")) {\n  // Directly use the XPath extraction without browser verification\n  c = java.getElement(path);  // Skip browser verification\n} else {\n  // Display a toast message to indicate bypass attempt\n  java.longToast(\"过盾\");  // Display toast message\n  \n  // Use startBrowserAwait to perform browser-based verification\n  const response = java.startBrowserAwait(u, \"验证\").body();\n  \n  // Set the content from the new response to allow further processing\n  java.setContent(response);\n  \n  // Reattempt to fetch elements after verification\n  c = java.getElement(path);  // Second attempt after setting new content\n}\n",
      "bookUrl": "//h3/a[1]/@href",
      "checkKeyWord": "闪婚",
      "coverUrl": "//img/@data-src",
      "intro": "//ol[@class='ellipsis_2']/text()",
      "lastChapter": "//div[@class=\"zxzj\"]/p/text()",
      "name": "//div[@class='newnav']/h3/a/text()"
    },
    "ruleToc": {
      "chapterList": "<js>\nlet liMatches = result.match(/<li data-num=\"(\\d+)\">.*?<\\/li>/g) || [];\nliMatches.sort((a, b) => {\n  const numA = parseInt(a.match(/data-num=\"(\\d+)\"/)[1], 10);\n  const numB = parseInt(b.match(/data-num=\"(\\d+)\"/)[1], 10);\n  return numA - numB;\n});\n`<ul>\\n  ${liMatches.join('\\n  ')}\\n</ul>`;</js>\n//li",
      "chapterName": "//text()",
      "chapterUrl": "//@href"
    },
    "searchUrl": "@js:\nvar headers = JSON.parse(source.header);\nvar body = \"searchkey=\"+key+\"&searchtype=all\";\nvar option = { \n\t\"charset\": \"gbk\",\n\t\"method\": \"POST\",\n\t\"body\": body,\n\t\"headers\": headers\n\t};\nurl=\"https://www.69yuedu.net/modules/article/search.php,\"+JSON.stringify(option);\njava.put('url',url)",
    "weight": 60
  },
  {
    "bookSourceGroup": "R🐶",
    "bookSourceName": "R 可乐阅读🐶🛡️",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.keledushu.com/",
    "customOrder": 28,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "header": "{\n\t\"User-Agent\": \"Mozilla/5.0 (iPhone; CPU iPhone OS 18_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148\"\n}",
    "lastUpdateTime": 1736035711617,
    "respondTime": 180000,
    "ruleBookInfo": {},
    "ruleContent": {
      "content": "//div[@id=\"nr1\"]/text()"
    },
    "ruleExplore": {},
    "ruleSearch": {
      "author": "//p[@class=\"fs12 gray\"][1]/span/a/text()",
      "bookList": "@js:\n\n// Define XPath for element extraction\nconst path = '//table[@class=\"list-item\"]';\n\nu=java.get('url');\n// Attempt to fetch elements using initial response\nlet c = java.getElement(path);  // First attempt to get elements\n\n// Always clear cookies before initiating verification\ncookie.removeCookie(source.getKey());\n\n// Display a toast message to indicate bypass attempt\njava.longToast(\"过盾\");  // Display toast message\n\n\n// Use startBrowserAwait to perform browser-based verification\nconst response= java.startBrowserAwait(u, \"验证\").body();\n\n// Set the content from the new response to allow further processing\njava.setContent(response);\n\n// Reattempt to fetch elements after verification\nc = java.getElement(path);  // Second attempt after setting new content\n",
      "bookUrl": "//div[@class=\"article\"]/a/@href\n@put:{bid:\"//div[@class=\"article\"]/a/@href\"}",
      "checkKeyWord": "闪婚",
      "coverUrl": "//img/@data-original",
      "name": "//div[@class=\"article\"]/a/text()"
    },
    "ruleToc": {
      "chapterList": "//ul[@id=\"allChapters2\"]/li",
      "chapterName": "//a/text()",
      "chapterUrl": "@get:{bid}{{//a/@href}}"
    },
    "searchUrl": "@js:\nvar headers = JSON.parse(source.header);\nvar body = \"s=\"+key+\"&type=articlename&submit=\";\nvar option = { \n\t\"method\": \"POST\",\n\t\"body\": body,\n\t\"headers\": headers\n\t};\nurl=\"https://www.keledushu.com/s.php,\"+JSON.stringify(option);\njava.put('url',url)",
    "weight": 60
  }
]